{"ast":null,"code":"var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nimport React, { useEffect, useState } from \"react\";\nimport { FullSCreen, Pause, Play } from \"../assets/icons\";\nimport ChatLoader from \"./chat-loader\";\nimport Modal from \"./modal\";\nvar VideoPreview = function (_a) {\n  var _b, _c, _d, _e, _f, _g;\n  var url = _a.url,\n    caption = _a.caption,\n    fontFamily = _a.fontFamily,\n    fontSize = _a.fontSize,\n    mediaId = _a.mediaId,\n    mode = _a.mode;\n  var _h = useState(false),\n    isPlaying = _h[0],\n    setPlaying = _h[1];\n  var _j = useState(0),\n    currentTimeInSec = _j[0],\n    setCurrentTimeInSec = _j[1];\n  var _k = useState(0),\n    currentTimeInMin = _k[0],\n    setCurrentTimeInMin = _k[1];\n  var _l = useState(0),\n    mediaDurationInSec = _l[0],\n    setMediaDurationInSec = _l[1];\n  var _m = useState(0),\n    mediaDurationInMin = _m[0],\n    setMediaDurationInMin = _m[1];\n  var _o = useState(0),\n    currentTime = _o[0],\n    setCurrentTime = _o[1];\n  var _p = useState(0),\n    mediaDuration = _p[0],\n    setMediaDuration = _p[1];\n  var _q = useState(false),\n    isFullScreen = _q[0],\n    setFullScreen = _q[1];\n  var _r = useState(0),\n    seekBeforeWidth = _r[0],\n    setSeekBeforeWidth = _r[1];\n  var _s = useState(0),\n    bufferedRange = _s[0],\n    setBufferRange = _s[1];\n  var _t = useState(true),\n    loading = _t[0],\n    setLoading = _t[1];\n  var _u = useState(true),\n    isBuffering = _u[0],\n    setBuffering = _u[1];\n  var video = document.querySelector(\"video#\".concat(mediaId, \"-preview\"));\n  var togglePlay = function () {\n    if (!isFullScreen && video) {\n      setFullScreen(true);\n      video.play();\n      var video_elements = document.getElementsByTagName(\"video\");\n      for (var i = 0; i < video_elements.length; i++) {\n        var video_element = video_elements[i];\n        if (video_element.id !== mediaId) {\n          video_element.pause();\n        }\n      }\n      var audio_elements = document.getElementsByTagName(\"audio\");\n      for (var i = 0; i < audio_elements.length; i++) {\n        var audio_element = audio_elements[i];\n        audio_element.pause();\n      }\n      return;\n    }\n    if (video && mediaDuration) {\n      // video\n      if (video === null || video === void 0 ? void 0 : video.paused) {\n        video === null || video === void 0 ? void 0 : video.play();\n        setPlaying(true);\n      } else {\n        video === null || video === void 0 ? void 0 : video.pause();\n        setPlaying(false);\n      }\n    }\n  };\n  var changeProgressBar = function (e) {\n    var value = e.target.value;\n    if (video) {\n      setCurrentTime(value / 1000);\n      video.currentTime = value / 1000;\n    }\n  };\n  var fullScreenToggle = function () {\n    if (video) {\n      setFullScreen(!isFullScreen);\n      video === null || video === void 0 ? void 0 : video.requestFullscreen();\n    }\n  };\n  useEffect(function () {\n    setSeekBeforeWidth(currentTime / mediaDuration * 100);\n  }, [currentTime]);\n  useEffect(function () {\n    if (video) {\n      video.onerror = function () {\n        setLoading(false);\n      };\n      video.onwaiting = function () {\n        setBuffering(true);\n      };\n      video.onplaying = function () {\n        setBuffering(false);\n      };\n      video.onloadeddata = function () {\n        setCurrentTimeInSec((video === null || video === void 0 ? void 0 : video.currentTime) % 60);\n        setCurrentTimeInMin((video === null || video === void 0 ? void 0 : video.currentTime) / 60 % 60);\n        setMediaDurationInSec((video === null || video === void 0 ? void 0 : video.duration) % 60);\n        setMediaDurationInMin((video === null || video === void 0 ? void 0 : video.duration) / 60 % 60);\n        setMediaDuration(video === null || video === void 0 ? void 0 : video.duration);\n        setCurrentTime(video === null || video === void 0 ? void 0 : video.currentTime);\n        setLoading(false);\n        setBuffering(false);\n      };\n      video.ontimeupdate = function () {\n        if (video && (video === null || video === void 0 ? void 0 : video.currentTime)) {\n          setCurrentTimeInSec((video === null || video === void 0 ? void 0 : video.currentTime) % 60);\n          setCurrentTimeInMin((video === null || video === void 0 ? void 0 : video.currentTime) / 60 % 60);\n          setCurrentTime(video === null || video === void 0 ? void 0 : video.currentTime);\n          setSeekBeforeWidth(video.currentTime / video.duration * 100);\n        }\n        if (video && (video === null || video === void 0 ? void 0 : video.duration)) {\n          setMediaDurationInSec((video === null || video === void 0 ? void 0 : video.duration) % 60);\n          setMediaDurationInMin((video === null || video === void 0 ? void 0 : video.duration) / 60 % 60);\n          setMediaDuration(video === null || video === void 0 ? void 0 : video.duration);\n        }\n      };\n      video.onended = function () {\n        setCurrentTime(0);\n        setCurrentTimeInSec(0);\n        setCurrentTimeInMin(0);\n        setSeekBeforeWidth(0);\n        setBufferRange(0);\n        setPlaying(false);\n      };\n    }\n  }, [isPlaying, video]);\n  useEffect(function () {\n    if (video) {\n      if (video === null || video === void 0 ? void 0 : video.played) {\n        setPlaying(true);\n      }\n      if (video === null || video === void 0 ? void 0 : video.paused) {\n        setPlaying(false);\n      }\n    }\n  }, [video === null || video === void 0 ? void 0 : video.played, video === null || video === void 0 ? void 0 : video.paused, isFullScreen]);\n  useEffect(function () {\n    if (!isFullScreen && video) {\n      setPlaying(false);\n      video.pause();\n      return;\n    } else if (isFullScreen && video) {\n      video.play();\n    }\n  }, [isFullScreen]);\n  var style = {\n    \"--sarufi-video-seek-before-width\": seekBeforeWidth + \"%\",\n    \"--sarufi-video-buffer-before-width\": bufferedRange / mediaDuration * 100 + \"%\",\n    \"--sarufi-font-family\": fontFamily === \"InterRegular\" ? \"'Inter', sans-serif\" : fontFamily === \"PoppinsRegular\" ? \"'Poppins', sans-serif\" : fontFamily === \"inherit\" ? \"inherit\" : \"'Inter', sans-serif\",\n    \"--sarufi-font-size\": fontSize\n  };\n  var Controllers = function (_a) {\n    var _b;\n    var showBottomControllers = _a.showBottomControllers;\n    return React.createElement(React.Fragment, null, (video === null || video === void 0 ? void 0 : video.duration) && !((_b = video === null || video === void 0 ? void 0 : video.error) === null || _b === void 0 ? void 0 : _b.code) && !loading ? React.createElement(\"div\", {\n      className: \"sarufi-video-controls\",\n      onClick: function () {\n        if (!isFullScreen) {\n          togglePlay();\n        }\n      },\n      style: __assign({\n        height: isFullScreen ? \"50px\" : \"100%\",\n        position: isFullScreen ? \"relative\" : \"absolute\"\n      }, !isFullScreen ? {\n        top: 0,\n        left: 0,\n        cursor: \"pointer\"\n      } : {\n        backgroundColor: \"rgba(0, 0, 0, .6)\"\n      })\n    }, !showBottomControllers && React.createElement(\"div\", {\n      className: \"sarufi-center-controls \".concat(!isPlaying ? \"sarufi-video-not-playing\" : \"\")\n    }, React.createElement(React.Fragment, null, React.createElement(\"button\", {\n      title: isPlaying ? \"Pause\" : \"Play\",\n      style: {\n        background: \"rgba(11,20,26,.35)\",\n        border: \"none\",\n        color: \"white\",\n        borderRadius: \"50%\",\n        height: \"30px\",\n        width: \"30px\",\n        cursor: \"pointer\"\n      },\n      onClick: togglePlay,\n      className: \"sarufi-flex-center sarufi-button\"\n    }, React.createElement(Play, {\n      size: 20\n    })))), showBottomControllers && React.createElement(\"div\", {\n      className: \"sarufi-video-more-controls\"\n    }, React.createElement(\"div\", {\n      className: \"sarufi-more-controls-container\"\n    }, React.createElement(\"div\", {\n      className: \"sarufi-flex-wide\",\n      style: {\n        padding: \"0 .5rem\"\n      }\n    }, React.createElement(\"div\", {\n      className: \"sarufi-video-time-controls sarufi-flex-start\"\n    }, React.createElement(\"button\", {\n      title: isPlaying ? \"Pause\" : \"Play\",\n      style: __assign({\n        background: \"rgba(11,20,26,.35)\",\n        border: \"none\",\n        color: \"white\",\n        borderRadius: \"50%\",\n        height: \"30px\",\n        width: \"30px\",\n        cursor: \"pointer\"\n      }, {\n        \"--sarufi-received-box-color\": \"white\"\n      }),\n      onClick: togglePlay,\n      className: \"sarufi-flex-center sarufi-button\"\n    }, isBuffering ? React.createElement(React.Fragment, null, React.createElement(ChatLoader, {\n      fromPlay: true\n    })) : React.createElement(React.Fragment, null, !isPlaying ? React.createElement(Play, {\n      size: 14\n    }) : React.createElement(Pause, {\n      size: 14\n    }))), React.createElement(\"span\", {\n      style: {\n        transform: \"scale(0.8)\"\n      }\n    }, currentTimeInMin < 10 ? \"0\".concat(Math.floor(currentTimeInMin)) : Math.floor(currentTimeInMin)), \"\\u00A0:\\u00A0\", React.createElement(\"span\", {\n      style: {\n        transform: \"scale(0.8)\"\n      }\n    }, currentTimeInSec < 10 ? \"0\".concat(Math.floor(currentTimeInSec)) : \"\".concat(Math.floor(currentTimeInSec))), \"\\u00A0/\\u00A0\", React.createElement(\"span\", {\n      style: {\n        transform: \"scale(0.8)\"\n      }\n    }, mediaDurationInMin < 10 ? \"0\".concat(Math.floor(mediaDurationInMin)) : Math.floor(mediaDurationInMin)), \"\\u00A0:\\u00A0\", React.createElement(\"span\", {\n      style: {\n        transform: \"scale(0.8)\"\n      }\n    }, mediaDurationInSec < 10 ? \"0\".concat(Math.floor(mediaDurationInSec)) : \"\".concat(Math.floor(mediaDurationInSec)))), React.createElement(\"button\", {\n      className: \"sarufi-video-full-screen-toggle sarufi-button\",\n      onClick: fullScreenToggle,\n      style: {\n        cursor: \"pointer\",\n        background: \"none\",\n        border: \"none\",\n        color: \"currentcolor\"\n      }\n    }, React.createElement(FullSCreen, {\n      size: 14\n    }))), React.createElement(\"div\", {\n      style: __assign({}, style),\n      className: \"sarufi-bar sarufi-duration__bar\"\n    }, React.createElement(\"input\", {\n      type: \"range\",\n      id: \"progress\",\n      disabled: !mediaDuration,\n      step: 0.0001,\n      value: currentTime && currentTime * 1000,\n      max: mediaDuration && mediaDuration * 1000,\n      onChange: changeProgressBar\n    }))))) : null);\n  };\n  return React.createElement(React.Fragment, null, loading ? React.createElement(\"div\", {\n    style: {\n      background: mode === \"dark\" ? \"rgba(255, 255, 255, .1)\" : \"rgba(0,0,0,.1)\",\n      borderRadius: \".3rem\",\n      padding: \".5rem\",\n      fontSize: 14,\n      display: \"flex\",\n      justifyContent: \"center\"\n    }\n  }, React.createElement(ChatLoader, null)) : null, React.createElement(\"div\", {\n    className: \"sarufi-video-player\",\n    style: __assign({}, style)\n  }, React.createElement(\"video\", {\n    key: url,\n    id: mediaId,\n    disablePictureInPicture: true,\n    controlsList: \"nodownload\",\n    src: url,\n    onContextMenu: function (e) {\n      e.preventDefault();\n    },\n    style: {\n      maxWidth: \"100%\",\n      height: loading || !(video === null || video === void 0 ? void 0 : video.duration) || ((_b = video === null || video === void 0 ? void 0 : video.error) === null || _b === void 0 ? void 0 : _b.code) || !video ? \"0\" : \"auto\",\n      display: loading || !(video === null || video === void 0 ? void 0 : video.duration) || ((_c = video === null || video === void 0 ? void 0 : video.error) === null || _c === void 0 ? void 0 : _c.code) || !video ? \"none\" : \"block\",\n      width: \"100%\",\n      objectFit: \"cover\",\n      borderRadius: \".3rem\"\n    }\n  }, React.createElement(\"source\", {\n    src: url,\n    type: \"video/mp4\"\n  }), React.createElement(\"span\", null, \"Your Browser does not support this video format\")), (video === null || video === void 0 ? void 0 : video.duration) ? React.createElement(Controllers, {\n    showBottomControllers: false\n  }) : null, React.createElement(Modal, {\n    mode: mode !== null && mode !== void 0 ? mode : \"light\",\n    open: isFullScreen,\n    close: function () {\n      return setFullScreen(false);\n    },\n    closeWithBackdrop: true\n  }, React.createElement(\"div\", {\n    className: \"sarufi-video-player\",\n    style: __assign({\n      maxWidth: \"calc( 100vw - 30px )\",\n      maxHeight: \"calc( 100vh - 180px )\",\n      width: \"100%\",\n      height: \"auto\"\n    }, style)\n  }, React.createElement(\"video\", {\n    key: url,\n    id: mediaId + \"-preview\",\n    disablePictureInPicture: true,\n    controlsList: \"nodownload\",\n    src: url,\n    onContextMenu: function (e) {\n      e.preventDefault();\n    },\n    onClick: togglePlay,\n    style: {\n      maxWidth: \"calc( 100vw - 30px )\",\n      maxHeight: \"calc( 100vh - 180px )\",\n      width: \"100%\",\n      height: \"auto\",\n      objectFit: \"cover\",\n      display: \"block\"\n    }\n  }, React.createElement(\"source\", {\n    src: url,\n    type: \"video/mp4\"\n  }), React.createElement(\"span\", null, \"Your Browser does not support this video format\")), React.createElement(Controllers, {\n    showBottomControllers: true\n  }), React.createElement(\"div\", {\n    className: \"sarufi-flex-center\"\n  }, React.createElement(\"div\", {\n    style: {\n      textAlign: \"center\",\n      fontFamily: fontFamily === \"InterRegular\" ? \"'Inter', sans-serif\" : fontFamily === \"PoppinsRegular\" ? \"'Poppins', sans-serif\" : fontFamily === \"inherit\" ? \"inherit\" : \"'Inter', sans-serif\",\n      fontSize: fontSize,\n      color: \"white\",\n      marginTop: \".3rem\"\n    }\n  }, caption))))), (video === null || video === void 0 ? void 0 : video.error) && !(video === null || video === void 0 ? void 0 : video.duration) && !loading && React.createElement(\"div\", {\n    style: {\n      color: mode === \"dark\" ? \"#e76262\" : \"red\",\n      background: mode === \"dark\" ? \"rgba(255, 255, 255, .1)\" : \"rgba(0,0,0,.1)\",\n      borderRadius: \".3rem\",\n      padding: \".5rem\",\n      fontSize: 14\n    }\n  }, ((_d = video === null || video === void 0 ? void 0 : video.error) === null || _d === void 0 ? void 0 : _d.code) === 1 ? \"Loading video resorces was aborted\" : ((_e = video === null || video === void 0 ? void 0 : video.error) === null || _e === void 0 ? void 0 : _e.code) === 2 ? \"Failed to play video due to network error\" : ((_f = video === null || video === void 0 ? void 0 : video.error) === null || _f === void 0 ? void 0 : _f.code) === 3 ? \"Failed to decode video resorces\" : ((_g = video === null || video === void 0 ? void 0 : video.error) === null || _g === void 0 ? void 0 : _g.code) === 4 ? \"Video resources not supported\" : \"Failed to load video resources\"));\n};\nexport default VideoPreview;","map":{"version":3,"names":["__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","React","useEffect","useState","FullSCreen","Pause","Play","ChatLoader","Modal","VideoPreview","_a","_b","_c","_d","_e","_f","_g","url","caption","fontFamily","fontSize","mediaId","mode","_h","isPlaying","setPlaying","_j","currentTimeInSec","setCurrentTimeInSec","_k","currentTimeInMin","setCurrentTimeInMin","_l","mediaDurationInSec","setMediaDurationInSec","_m","mediaDurationInMin","setMediaDurationInMin","_o","currentTime","setCurrentTime","_p","mediaDuration","setMediaDuration","_q","isFullScreen","setFullScreen","_r","seekBeforeWidth","setSeekBeforeWidth","_s","bufferedRange","setBufferRange","_t","loading","setLoading","_u","isBuffering","setBuffering","video","document","querySelector","concat","togglePlay","play","video_elements","getElementsByTagName","video_element","id","pause","audio_elements","audio_element","paused","changeProgressBar","e","value","target","fullScreenToggle","requestFullscreen","onerror","onwaiting","onplaying","onloadeddata","duration","ontimeupdate","onended","played","style","Controllers","showBottomControllers","createElement","Fragment","error","code","className","onClick","height","position","top","left","cursor","backgroundColor","title","background","border","color","borderRadius","width","size","padding","fromPlay","transform","Math","floor","type","disabled","step","max","onChange","display","justifyContent","key","disablePictureInPicture","controlsList","src","onContextMenu","preventDefault","maxWidth","objectFit","open","close","closeWithBackdrop","maxHeight","textAlign","marginTop"],"sources":["/home/kareem/github-repos/JoKa_Movies_Client/node_modules/react-sarufi-chatbox/lib/esm/chat/video.js"],"sourcesContent":["var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport React, { useEffect, useState } from \"react\";\nimport { FullSCreen, Pause, Play } from \"../assets/icons\";\nimport ChatLoader from \"./chat-loader\";\nimport Modal from \"./modal\";\nvar VideoPreview = function (_a) {\n    var _b, _c, _d, _e, _f, _g;\n    var url = _a.url, caption = _a.caption, fontFamily = _a.fontFamily, fontSize = _a.fontSize, mediaId = _a.mediaId, mode = _a.mode;\n    var _h = useState(false), isPlaying = _h[0], setPlaying = _h[1];\n    var _j = useState(0), currentTimeInSec = _j[0], setCurrentTimeInSec = _j[1];\n    var _k = useState(0), currentTimeInMin = _k[0], setCurrentTimeInMin = _k[1];\n    var _l = useState(0), mediaDurationInSec = _l[0], setMediaDurationInSec = _l[1];\n    var _m = useState(0), mediaDurationInMin = _m[0], setMediaDurationInMin = _m[1];\n    var _o = useState(0), currentTime = _o[0], setCurrentTime = _o[1];\n    var _p = useState(0), mediaDuration = _p[0], setMediaDuration = _p[1];\n    var _q = useState(false), isFullScreen = _q[0], setFullScreen = _q[1];\n    var _r = useState(0), seekBeforeWidth = _r[0], setSeekBeforeWidth = _r[1];\n    var _s = useState(0), bufferedRange = _s[0], setBufferRange = _s[1];\n    var _t = useState(true), loading = _t[0], setLoading = _t[1];\n    var _u = useState(true), isBuffering = _u[0], setBuffering = _u[1];\n    var video = document.querySelector(\"video#\".concat(mediaId, \"-preview\"));\n    var togglePlay = function () {\n        if (!isFullScreen && video) {\n            setFullScreen(true);\n            video.play();\n            var video_elements = document.getElementsByTagName(\"video\");\n            for (var i = 0; i < video_elements.length; i++) {\n                var video_element = video_elements[i];\n                if (video_element.id !== mediaId) {\n                    video_element.pause();\n                }\n            }\n            var audio_elements = document.getElementsByTagName(\"audio\");\n            for (var i = 0; i < audio_elements.length; i++) {\n                var audio_element = audio_elements[i];\n                audio_element.pause();\n            }\n            return;\n        }\n        if (video && mediaDuration) {\n            // video\n            if (video === null || video === void 0 ? void 0 : video.paused) {\n                video === null || video === void 0 ? void 0 : video.play();\n                setPlaying(true);\n            }\n            else {\n                video === null || video === void 0 ? void 0 : video.pause();\n                setPlaying(false);\n            }\n        }\n    };\n    var changeProgressBar = function (e) {\n        var value = e.target.value;\n        if (video) {\n            setCurrentTime(value / 1000);\n            video.currentTime = value / 1000;\n        }\n    };\n    var fullScreenToggle = function () {\n        if (video) {\n            setFullScreen(!isFullScreen);\n            video === null || video === void 0 ? void 0 : video.requestFullscreen();\n        }\n    };\n    useEffect(function () {\n        setSeekBeforeWidth((currentTime / mediaDuration) * 100);\n    }, [currentTime]);\n    useEffect(function () {\n        if (video) {\n            video.onerror = function () {\n                setLoading(false);\n            };\n            video.onwaiting = function () {\n                setBuffering(true);\n            };\n            video.onplaying = function () {\n                setBuffering(false);\n            };\n            video.onloadeddata = function () {\n                setCurrentTimeInSec((video === null || video === void 0 ? void 0 : video.currentTime) % 60);\n                setCurrentTimeInMin(((video === null || video === void 0 ? void 0 : video.currentTime) / 60) % 60);\n                setMediaDurationInSec((video === null || video === void 0 ? void 0 : video.duration) % 60);\n                setMediaDurationInMin(((video === null || video === void 0 ? void 0 : video.duration) / 60) % 60);\n                setMediaDuration(video === null || video === void 0 ? void 0 : video.duration);\n                setCurrentTime(video === null || video === void 0 ? void 0 : video.currentTime);\n                setLoading(false);\n                setBuffering(false);\n            };\n            video.ontimeupdate = function () {\n                if (video && (video === null || video === void 0 ? void 0 : video.currentTime)) {\n                    setCurrentTimeInSec((video === null || video === void 0 ? void 0 : video.currentTime) % 60);\n                    setCurrentTimeInMin(((video === null || video === void 0 ? void 0 : video.currentTime) / 60) % 60);\n                    setCurrentTime(video === null || video === void 0 ? void 0 : video.currentTime);\n                    setSeekBeforeWidth((video.currentTime / video.duration) * 100);\n                }\n                if (video && (video === null || video === void 0 ? void 0 : video.duration)) {\n                    setMediaDurationInSec((video === null || video === void 0 ? void 0 : video.duration) % 60);\n                    setMediaDurationInMin(((video === null || video === void 0 ? void 0 : video.duration) / 60) % 60);\n                    setMediaDuration(video === null || video === void 0 ? void 0 : video.duration);\n                }\n            };\n            video.onended = function () {\n                setCurrentTime(0);\n                setCurrentTimeInSec(0);\n                setCurrentTimeInMin(0);\n                setSeekBeforeWidth(0);\n                setBufferRange(0);\n                setPlaying(false);\n            };\n        }\n    }, [isPlaying, video]);\n    useEffect(function () {\n        if (video) {\n            if (video === null || video === void 0 ? void 0 : video.played) {\n                setPlaying(true);\n            }\n            if (video === null || video === void 0 ? void 0 : video.paused) {\n                setPlaying(false);\n            }\n        }\n    }, [video === null || video === void 0 ? void 0 : video.played, video === null || video === void 0 ? void 0 : video.paused, isFullScreen]);\n    useEffect(function () {\n        if (!isFullScreen && video) {\n            setPlaying(false);\n            video.pause();\n            return;\n        }\n        else if (isFullScreen && video) {\n            video.play();\n        }\n    }, [isFullScreen]);\n    var style = {\n        \"--sarufi-video-seek-before-width\": seekBeforeWidth + \"%\",\n        \"--sarufi-video-buffer-before-width\": (bufferedRange / mediaDuration) * 100 + \"%\",\n        \"--sarufi-font-family\": fontFamily === \"InterRegular\"\n            ? \"'Inter', sans-serif\"\n            : fontFamily === \"PoppinsRegular\"\n                ? \"'Poppins', sans-serif\"\n                : fontFamily === \"inherit\"\n                    ? \"inherit\"\n                    : \"'Inter', sans-serif\",\n        \"--sarufi-font-size\": fontSize,\n    };\n    var Controllers = function (_a) {\n        var _b;\n        var showBottomControllers = _a.showBottomControllers;\n        return (React.createElement(React.Fragment, null, (video === null || video === void 0 ? void 0 : video.duration) && !((_b = video === null || video === void 0 ? void 0 : video.error) === null || _b === void 0 ? void 0 : _b.code) && !loading ? (React.createElement(\"div\", { className: \"sarufi-video-controls\", onClick: function () {\n                if (!isFullScreen) {\n                    togglePlay();\n                }\n            }, style: __assign({ height: isFullScreen ? \"50px\" : \"100%\", position: isFullScreen ? \"relative\" : \"absolute\" }, (!isFullScreen\n                ? {\n                    top: 0,\n                    left: 0,\n                    cursor: \"pointer\",\n                }\n                : {\n                    backgroundColor: \"rgba(0, 0, 0, .6)\",\n                })) },\n            !showBottomControllers && (React.createElement(\"div\", { className: \"sarufi-center-controls \".concat(!isPlaying ? \"sarufi-video-not-playing\" : \"\") },\n                React.createElement(React.Fragment, null,\n                    React.createElement(\"button\", { title: isPlaying ? \"Pause\" : \"Play\", style: {\n                            background: \"rgba(11,20,26,.35)\",\n                            border: \"none\",\n                            color: \"white\",\n                            borderRadius: \"50%\",\n                            height: \"30px\",\n                            width: \"30px\",\n                            cursor: \"pointer\",\n                        }, onClick: togglePlay, className: \"sarufi-flex-center sarufi-button\" }, React.createElement(Play, { size: 20 }))))),\n            showBottomControllers && (React.createElement(\"div\", { className: \"sarufi-video-more-controls\" },\n                React.createElement(\"div\", { className: \"sarufi-more-controls-container\" },\n                    React.createElement(\"div\", { className: \"sarufi-flex-wide\", style: {\n                            padding: \"0 .5rem\",\n                        } },\n                        React.createElement(\"div\", { className: \"sarufi-video-time-controls sarufi-flex-start\" },\n                            React.createElement(\"button\", { title: isPlaying ? \"Pause\" : \"Play\", style: __assign({ background: \"rgba(11,20,26,.35)\", border: \"none\", color: \"white\", borderRadius: \"50%\", height: \"30px\", width: \"30px\", cursor: \"pointer\" }, {\n                                    \"--sarufi-received-box-color\": \"white\",\n                                }), onClick: togglePlay, className: \"sarufi-flex-center sarufi-button\" }, isBuffering ? (React.createElement(React.Fragment, null,\n                                React.createElement(ChatLoader, { fromPlay: true }))) : (React.createElement(React.Fragment, null, !isPlaying ? (React.createElement(Play, { size: 14 })) : (React.createElement(Pause, { size: 14 }))))),\n                            React.createElement(\"span\", { style: {\n                                    transform: \"scale(0.8)\",\n                                } }, currentTimeInMin < 10\n                                ? \"0\".concat(Math.floor(currentTimeInMin))\n                                : Math.floor(currentTimeInMin)),\n                            \"\\u00A0:\\u00A0\",\n                            React.createElement(\"span\", { style: {\n                                    transform: \"scale(0.8)\",\n                                } }, currentTimeInSec < 10\n                                ? \"0\".concat(Math.floor(currentTimeInSec))\n                                : \"\".concat(Math.floor(currentTimeInSec))),\n                            \"\\u00A0/\\u00A0\",\n                            React.createElement(\"span\", { style: {\n                                    transform: \"scale(0.8)\",\n                                } }, mediaDurationInMin < 10\n                                ? \"0\".concat(Math.floor(mediaDurationInMin))\n                                : Math.floor(mediaDurationInMin)),\n                            \"\\u00A0:\\u00A0\",\n                            React.createElement(\"span\", { style: {\n                                    transform: \"scale(0.8)\",\n                                } }, mediaDurationInSec < 10\n                                ? \"0\".concat(Math.floor(mediaDurationInSec))\n                                : \"\".concat(Math.floor(mediaDurationInSec)))),\n                        React.createElement(\"button\", { className: \"sarufi-video-full-screen-toggle sarufi-button\", onClick: fullScreenToggle, style: {\n                                cursor: \"pointer\",\n                                background: \"none\",\n                                border: \"none\",\n                                color: \"currentcolor\",\n                            } },\n                            React.createElement(FullSCreen, { size: 14 }))),\n                    React.createElement(\"div\", { style: __assign({}, style), className: \"sarufi-bar sarufi-duration__bar\" },\n                        React.createElement(\"input\", { type: \"range\", id: \"progress\", disabled: !mediaDuration, step: 0.0001, value: currentTime && currentTime * 1000, max: mediaDuration && mediaDuration * 1000, onChange: changeProgressBar }))))))) : null));\n    };\n    return (React.createElement(React.Fragment, null,\n        loading ? (React.createElement(\"div\", { style: {\n                background: mode === \"dark\" ? \"rgba(255, 255, 255, .1)\" : \"rgba(0,0,0,.1)\",\n                borderRadius: \".3rem\",\n                padding: \".5rem\",\n                fontSize: 14,\n                display: \"flex\",\n                justifyContent: \"center\",\n            } },\n            React.createElement(ChatLoader, null))) : null,\n        React.createElement(\"div\", { className: \"sarufi-video-player\", style: __assign({}, style) },\n            React.createElement(\"video\", { key: url, id: mediaId, disablePictureInPicture: true, controlsList: \"nodownload\", src: url, onContextMenu: function (e) {\n                    e.preventDefault();\n                }, style: {\n                    maxWidth: \"100%\",\n                    height: loading || !(video === null || video === void 0 ? void 0 : video.duration) || ((_b = video === null || video === void 0 ? void 0 : video.error) === null || _b === void 0 ? void 0 : _b.code) || !video\n                        ? \"0\"\n                        : \"auto\",\n                    display: loading || !(video === null || video === void 0 ? void 0 : video.duration) || ((_c = video === null || video === void 0 ? void 0 : video.error) === null || _c === void 0 ? void 0 : _c.code) || !video\n                        ? \"none\"\n                        : \"block\",\n                    width: \"100%\",\n                    objectFit: \"cover\",\n                    borderRadius: \".3rem\",\n                } },\n                React.createElement(\"source\", { src: url, type: \"video/mp4\" }),\n                React.createElement(\"span\", null, \"Your Browser does not support this video format\")),\n            (video === null || video === void 0 ? void 0 : video.duration) ? React.createElement(Controllers, { showBottomControllers: false }) : null,\n            React.createElement(Modal, { mode: mode !== null && mode !== void 0 ? mode : \"light\", open: isFullScreen, close: function () { return setFullScreen(false); }, closeWithBackdrop: true },\n                React.createElement(\"div\", { className: \"sarufi-video-player\", style: __assign({ maxWidth: \"calc( 100vw - 30px )\", maxHeight: \"calc( 100vh - 180px )\", width: \"100%\", height: \"auto\" }, style) },\n                    React.createElement(\"video\", { key: url, id: mediaId + \"-preview\", disablePictureInPicture: true, controlsList: \"nodownload\", src: url, onContextMenu: function (e) {\n                            e.preventDefault();\n                        }, onClick: togglePlay, style: {\n                            maxWidth: \"calc( 100vw - 30px )\",\n                            maxHeight: \"calc( 100vh - 180px )\",\n                            width: \"100%\",\n                            height: \"auto\",\n                            objectFit: \"cover\",\n                            display: \"block\",\n                        } },\n                        React.createElement(\"source\", { src: url, type: \"video/mp4\" }),\n                        React.createElement(\"span\", null, \"Your Browser does not support this video format\")),\n                    React.createElement(Controllers, { showBottomControllers: true }),\n                    React.createElement(\"div\", { className: \"sarufi-flex-center\" },\n                        React.createElement(\"div\", { style: {\n                                textAlign: \"center\",\n                                fontFamily: fontFamily === \"InterRegular\"\n                                    ? \"'Inter', sans-serif\"\n                                    : fontFamily === \"PoppinsRegular\"\n                                        ? \"'Poppins', sans-serif\"\n                                        : fontFamily === \"inherit\"\n                                            ? \"inherit\"\n                                            : \"'Inter', sans-serif\",\n                                fontSize: fontSize,\n                                color: \"white\",\n                                marginTop: \".3rem\",\n                            } }, caption))))),\n        (video === null || video === void 0 ? void 0 : video.error) && !(video === null || video === void 0 ? void 0 : video.duration) && !loading && (React.createElement(\"div\", { style: {\n                color: mode === \"dark\" ? \"#e76262\" : \"red\",\n                background: mode === \"dark\" ? \"rgba(255, 255, 255, .1)\" : \"rgba(0,0,0,.1)\",\n                borderRadius: \".3rem\",\n                padding: \".5rem\",\n                fontSize: 14,\n            } }, ((_d = video === null || video === void 0 ? void 0 : video.error) === null || _d === void 0 ? void 0 : _d.code) === 1\n            ? \"Loading video resorces was aborted\"\n            : ((_e = video === null || video === void 0 ? void 0 : video.error) === null || _e === void 0 ? void 0 : _e.code) === 2\n                ? \"Failed to play video due to network error\"\n                : ((_f = video === null || video === void 0 ? void 0 : video.error) === null || _f === void 0 ? void 0 : _f.code) === 3\n                    ? \"Failed to decode video resorces\"\n                    : ((_g = video === null || video === void 0 ? void 0 : video.error) === null || _g === void 0 ? void 0 : _g.code) === 4\n                        ? \"Video resources not supported\"\n                        : \"Failed to load video resources\"))));\n};\nexport default VideoPreview;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}