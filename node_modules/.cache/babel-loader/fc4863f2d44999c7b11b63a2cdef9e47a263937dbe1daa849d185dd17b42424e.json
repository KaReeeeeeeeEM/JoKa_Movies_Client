{"ast":null,"code":"var _jsxFileName = \"/home/kareem/github-repos/JoKa_Movies_Client/src/components/SearchBar.jsx\",\n  _s = $RefreshSig$();\n/* eslint-disable react-hooks/exhaustive-deps */\nimport React, { useState, useEffect, useRef } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport TextField from \"@mui/material/TextField\";\nimport axios from \"axios\";\nimport { styled } from \"@mui/material/styles\"; // Import for custom styling\nimport { Search } from \"@mui/icons-material\";\nimport { IconButton, InputAdornment } from \"@mui/material\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst StyledTextField = styled(TextField)(({\n  theme\n}) => ({\n  \"& .MuiOutlinedInput-root\": {\n    \"& fieldset\": {\n      borderColor: \"#ccc\",\n      // Set border color to primary (orange by default in MUI)\n      borderRadius: \"2rem\",\n      // Use Material UI shape for rounded corners\n      width: \"100%\",\n      // Make input full width\n      height: \"2.8rem\",\n      marginTop: \"0.5rem\",\n      marginLeft: \"0.2rem\",\n      transition: theme.transitions.create(\"border-color\", {\n        duration: theme.transitions.duration.standard\n      })\n    },\n    \"&:hover\": {\n      \"& fieldset\": {\n        borderColor: \"orange\" // Highlight on hover (same as focused)\n      }\n    },\n    \"&.Mui-focused fieldset\": {\n      borderColor: \"orange\" // Orange outline on focus\n    },\n    \"& .transformed .MuiInputLabel-root\": {\n      color: \"orange !important\"\n    },\n    \"& .MuiInputLabel-root.Mui-focused\": {\n      color: \"orange !important\"\n    }\n  }\n}));\n_c = StyledTextField;\nexport default function OrangeOutlineSearchBar() {\n  _s();\n  const [inputValue, setInputValue] = useState('');\n  const handleChange = event => {\n    setInputValue(event.target.value);\n  };\n  const {\n    user\n  } = useParams();\n  const [username, setUsername] = useState(null);\n  const [profile, setProfile] = useState(null);\n  const searchInputRef = useRef(null);\n  useEffect(() => {\n    function handleKeyDown(event) {\n      if (event.ctrlKey && event.key === '/') {\n        if (searchInputRef.current) {\n          searchInputRef.current.focus();\n        }\n      }\n    }\n    document.addEventListener('keydown', handleKeyDown);\n    return () => {\n      document.removeEventListener('keydown', handleKeyDown);\n    };\n  }, []);\n  useEffect(() => {\n    const urlSearchParams = new URLSearchParams(window.location.search); // Parse query string\n    const profilePicture = urlSearchParams.get(\"profile\");\n    if (user) {\n      setUsername(user);\n    } else {\n      setUsername(username);\n    }\n    if (profilePicture) {\n      setProfile(profilePicture);\n    } else {\n      setProfile(profile);\n    }\n  }, []);\n  const handleSubmit = async event => {\n    event.preventDefault();\n    setInputValue(\"\");\n    console.log(`Searched for ${inputValue}`);\n    try {\n      const response = await axios.get(`https://api.themoviedb.org/3/search/movie?api_key=035c0f1a7347b310a5b95929826fc81f&query=${inputValue}`);\n      console.log('Request successful:', response.data);\n      window.location.href = `/Results/${user}?profile=${profile}&search=${inputValue}&pages=${response.data.total_pages}`;\n    } catch (error) {\n      console.error('Request error:', error);\n    } finally {\n      console.log('Finished fetching movies');\n    }\n  };\n  const handleKeyDown = event => {\n    if (event.key === 'Enter') {\n      handleSubmit(event);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: handleSubmit,\n    children: /*#__PURE__*/_jsxDEV(StyledTextField, {\n      label: \"Ctrl + / to Search\",\n      sx: {\n        marginLeft: {\n          xs: \"-50px\",\n          md: \"0\"\n        }\n      },\n      fullWidth: true // Make the searchbar take up the full width\n      ,\n      variant: \"outlined\",\n      value: inputValue,\n      inputRef: searchInputRef,\n      onKeyDown: handleKeyDown,\n      onChange: handleChange,\n      InputProps: {\n        endAdornment: /*#__PURE__*/_jsxDEV(InputAdornment, {\n          position: \"end\",\n          children: /*#__PURE__*/_jsxDEV(IconButton, {\n            children: /*#__PURE__*/_jsxDEV(Search, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 122,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 121,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 11\n        }, this)\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 5\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 108,\n    columnNumber: 5\n  }, this);\n}\n_s(OrangeOutlineSearchBar, \"gXafFdfbMwOo3hi3Pq+tMIUmtgM=\", false, function () {\n  return [useParams];\n});\n_c2 = OrangeOutlineSearchBar;\nvar _c, _c2;\n$RefreshReg$(_c, \"StyledTextField\");\n$RefreshReg$(_c2, \"OrangeOutlineSearchBar\");","map":{"version":3,"names":["React","useState","useEffect","useRef","useParams","TextField","axios","styled","Search","IconButton","InputAdornment","jsxDEV","_jsxDEV","StyledTextField","theme","borderColor","borderRadius","width","height","marginTop","marginLeft","transition","transitions","create","duration","standard","color","_c","OrangeOutlineSearchBar","_s","inputValue","setInputValue","handleChange","event","target","value","user","username","setUsername","profile","setProfile","searchInputRef","handleKeyDown","ctrlKey","key","current","focus","document","addEventListener","removeEventListener","urlSearchParams","URLSearchParams","window","location","search","profilePicture","get","handleSubmit","preventDefault","console","log","response","data","href","total_pages","error","onSubmit","children","label","sx","xs","md","fullWidth","variant","inputRef","onKeyDown","onChange","InputProps","endAdornment","position","fileName","_jsxFileName","lineNumber","columnNumber","_c2","$RefreshReg$"],"sources":["/home/kareem/github-repos/JoKa_Movies_Client/src/components/SearchBar.jsx"],"sourcesContent":["/* eslint-disable react-hooks/exhaustive-deps */\r\nimport React,{useState, useEffect, useRef} from \"react\";\r\nimport {useParams} from \"react-router-dom\";\r\nimport TextField from \"@mui/material/TextField\";\r\nimport axios from \"axios\";\r\nimport { styled } from \"@mui/material/styles\"; // Import for custom styling\r\nimport { Search } from \"@mui/icons-material\";\r\nimport { IconButton, InputAdornment } from \"@mui/material\";\r\n\r\nconst StyledTextField = styled(TextField)(({ theme }) => ({\r\n  \"& .MuiOutlinedInput-root\": {\r\n    \"& fieldset\": {\r\n      borderColor: \"#ccc\", // Set border color to primary (orange by default in MUI)\r\n      borderRadius: \"2rem\", // Use Material UI shape for rounded corners\r\n      width: \"100%\", // Make input full width\r\n      height: \"2.8rem\",\r\n      marginTop: \"0.5rem\",\r\n      marginLeft: \"0.2rem\",\r\n      transition: theme.transitions.create(\"border-color\", {\r\n        duration: theme.transitions.duration.standard,\r\n      }),\r\n    },\r\n    \"&:hover\": {\r\n      \"& fieldset\": {\r\n        borderColor: \"orange\", // Highlight on hover (same as focused)\r\n      },\r\n    },\r\n    \"&.Mui-focused fieldset\": {\r\n      borderColor: \"orange\", // Orange outline on focus\r\n    },\r\n    \"& .transformed .MuiInputLabel-root\": {\r\n      color: \"orange !important\",\r\n    },\r\n    \"& .MuiInputLabel-root.Mui-focused\": {\r\n      color: \"orange !important\",\r\n    },\r\n  },\r\n}));\r\n\r\nexport default function OrangeOutlineSearchBar() {\r\n  const [inputValue, setInputValue] = useState('');\r\n\r\n  const handleChange = (event) => {\r\n    setInputValue(event.target.value);\r\n  };\r\n\r\n  const { user } = useParams();\r\n  const [username, setUsername] = useState(null);\r\n  const [profile, setProfile] = useState(null);\r\n\r\n\r\n  const searchInputRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    function handleKeyDown(event) {\r\n      if (event.ctrlKey && event.key === '/') {\r\n        if (searchInputRef.current) {\r\n          searchInputRef.current.focus();\r\n        }\r\n      }\r\n    }\r\n\r\n    document.addEventListener('keydown', handleKeyDown);\r\n    return () => {\r\n      document.removeEventListener('keydown', handleKeyDown);\r\n    };\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const urlSearchParams = new URLSearchParams(window.location.search); // Parse query string\r\n    const profilePicture = urlSearchParams.get(\"profile\");\r\n\r\n    if (user) {\r\n      setUsername(user);\r\n    } else {\r\n      setUsername(username);\r\n    }\r\n\r\n    if (profilePicture) {\r\n      setProfile(profilePicture);\r\n    } else {\r\n      setProfile(profile);\r\n    }\r\n  }, []);\r\n\r\n  const handleSubmit = async (event) => {\r\n    event.preventDefault(); \r\n    setInputValue(\"\");\r\n    console.log(`Searched for ${inputValue}`);\r\n    try {\r\n      const response = await axios.get(`https://api.themoviedb.org/3/search/movie?api_key=035c0f1a7347b310a5b95929826fc81f&query=${inputValue}`);\r\n      console.log('Request successful:', response.data);\r\n      window.location.href=`/Results/${user}?profile=${profile}&search=${inputValue}&pages=${response.data.total_pages}`;\r\n    } catch (error) {\r\n      console.error('Request error:', error);\r\n    } finally {\r\n      console.log('Finished fetching movies')\r\n    }\r\n  };\r\n\r\n  const handleKeyDown = (event) => {\r\n    if (event.key === 'Enter') {\r\n      handleSubmit(event);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit}>\r\n    <StyledTextField\r\n      label=\"Ctrl + / to Search\"\r\n      sx={{marginLeft:{xs:\"-50px\",md:\"0\"}}}\r\n      fullWidth // Make the searchbar take up the full width\r\n      variant=\"outlined\"\r\n      value={inputValue}\r\n      inputRef={searchInputRef}\r\n      onKeyDown={handleKeyDown}\r\n      onChange={handleChange}\r\n      InputProps={{\r\n        endAdornment: (\r\n          <InputAdornment position=\"end\">\r\n            <IconButton>\r\n              <Search />\r\n            </IconButton>\r\n          </InputAdornment>\r\n        ),\r\n      }}\r\n    />\r\n    </form>\r\n  );\r\n}\r\n"],"mappings":";;AAAA;AACA,OAAOA,KAAK,IAAEC,QAAQ,EAAEC,SAAS,EAAEC,MAAM,QAAO,OAAO;AACvD,SAAQC,SAAS,QAAO,kBAAkB;AAC1C,OAAOC,SAAS,MAAM,yBAAyB;AAC/C,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,MAAM,QAAQ,sBAAsB,CAAC,CAAC;AAC/C,SAASC,MAAM,QAAQ,qBAAqB;AAC5C,SAASC,UAAU,EAAEC,cAAc,QAAQ,eAAe;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE3D,MAAMC,eAAe,GAAGN,MAAM,CAACF,SAAS,CAAC,CAAC,CAAC;EAAES;AAAM,CAAC,MAAM;EACxD,0BAA0B,EAAE;IAC1B,YAAY,EAAE;MACZC,WAAW,EAAE,MAAM;MAAE;MACrBC,YAAY,EAAE,MAAM;MAAE;MACtBC,KAAK,EAAE,MAAM;MAAE;MACfC,MAAM,EAAE,QAAQ;MAChBC,SAAS,EAAE,QAAQ;MACnBC,UAAU,EAAE,QAAQ;MACpBC,UAAU,EAAEP,KAAK,CAACQ,WAAW,CAACC,MAAM,CAAC,cAAc,EAAE;QACnDC,QAAQ,EAAEV,KAAK,CAACQ,WAAW,CAACE,QAAQ,CAACC;MACvC,CAAC;IACH,CAAC;IACD,SAAS,EAAE;MACT,YAAY,EAAE;QACZV,WAAW,EAAE,QAAQ,CAAE;MACzB;IACF,CAAC;IACD,wBAAwB,EAAE;MACxBA,WAAW,EAAE,QAAQ,CAAE;IACzB,CAAC;IACD,oCAAoC,EAAE;MACpCW,KAAK,EAAE;IACT,CAAC;IACD,mCAAmC,EAAE;MACnCA,KAAK,EAAE;IACT;EACF;AACF,CAAC,CAAC,CAAC;AAACC,EAAA,GA5BEd,eAAe;AA8BrB,eAAe,SAASe,sBAAsBA,CAAA,EAAG;EAAAC,EAAA;EAC/C,MAAM,CAACC,UAAU,EAAEC,aAAa,CAAC,GAAG9B,QAAQ,CAAC,EAAE,CAAC;EAEhD,MAAM+B,YAAY,GAAIC,KAAK,IAAK;IAC9BF,aAAa,CAACE,KAAK,CAACC,MAAM,CAACC,KAAK,CAAC;EACnC,CAAC;EAED,MAAM;IAAEC;EAAK,CAAC,GAAGhC,SAAS,CAAC,CAAC;EAC5B,MAAM,CAACiC,QAAQ,EAAEC,WAAW,CAAC,GAAGrC,QAAQ,CAAC,IAAI,CAAC;EAC9C,MAAM,CAACsC,OAAO,EAAEC,UAAU,CAAC,GAAGvC,QAAQ,CAAC,IAAI,CAAC;EAG5C,MAAMwC,cAAc,GAAGtC,MAAM,CAAC,IAAI,CAAC;EAEnCD,SAAS,CAAC,MAAM;IACd,SAASwC,aAAaA,CAACT,KAAK,EAAE;MAC5B,IAAIA,KAAK,CAACU,OAAO,IAAIV,KAAK,CAACW,GAAG,KAAK,GAAG,EAAE;QACtC,IAAIH,cAAc,CAACI,OAAO,EAAE;UAC1BJ,cAAc,CAACI,OAAO,CAACC,KAAK,CAAC,CAAC;QAChC;MACF;IACF;IAEAC,QAAQ,CAACC,gBAAgB,CAAC,SAAS,EAAEN,aAAa,CAAC;IACnD,OAAO,MAAM;MACXK,QAAQ,CAACE,mBAAmB,CAAC,SAAS,EAAEP,aAAa,CAAC;IACxD,CAAC;EACH,CAAC,EAAE,EAAE,CAAC;EAENxC,SAAS,CAAC,MAAM;IACd,MAAMgD,eAAe,GAAG,IAAIC,eAAe,CAACC,MAAM,CAACC,QAAQ,CAACC,MAAM,CAAC,CAAC,CAAC;IACrE,MAAMC,cAAc,GAAGL,eAAe,CAACM,GAAG,CAAC,SAAS,CAAC;IAErD,IAAIpB,IAAI,EAAE;MACRE,WAAW,CAACF,IAAI,CAAC;IACnB,CAAC,MAAM;MACLE,WAAW,CAACD,QAAQ,CAAC;IACvB;IAEA,IAAIkB,cAAc,EAAE;MAClBf,UAAU,CAACe,cAAc,CAAC;IAC5B,CAAC,MAAM;MACLf,UAAU,CAACD,OAAO,CAAC;IACrB;EACF,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMkB,YAAY,GAAG,MAAOxB,KAAK,IAAK;IACpCA,KAAK,CAACyB,cAAc,CAAC,CAAC;IACtB3B,aAAa,CAAC,EAAE,CAAC;IACjB4B,OAAO,CAACC,GAAG,CAAE,gBAAe9B,UAAW,EAAC,CAAC;IACzC,IAAI;MACF,MAAM+B,QAAQ,GAAG,MAAMvD,KAAK,CAACkD,GAAG,CAAE,4FAA2F1B,UAAW,EAAC,CAAC;MAC1I6B,OAAO,CAACC,GAAG,CAAC,qBAAqB,EAAEC,QAAQ,CAACC,IAAI,CAAC;MACjDV,MAAM,CAACC,QAAQ,CAACU,IAAI,GAAE,YAAW3B,IAAK,YAAWG,OAAQ,WAAUT,UAAW,UAAS+B,QAAQ,CAACC,IAAI,CAACE,WAAY,EAAC;IACpH,CAAC,CAAC,OAAOC,KAAK,EAAE;MACdN,OAAO,CAACM,KAAK,CAAC,gBAAgB,EAAEA,KAAK,CAAC;IACxC,CAAC,SAAS;MACRN,OAAO,CAACC,GAAG,CAAC,0BAA0B,CAAC;IACzC;EACF,CAAC;EAED,MAAMlB,aAAa,GAAIT,KAAK,IAAK;IAC/B,IAAIA,KAAK,CAACW,GAAG,KAAK,OAAO,EAAE;MACzBa,YAAY,CAACxB,KAAK,CAAC;IACrB;EACF,CAAC;EAED,oBACErB,OAAA;IAAMsD,QAAQ,EAAET,YAAa;IAAAU,QAAA,eAC7BvD,OAAA,CAACC,eAAe;MACduD,KAAK,EAAC,oBAAoB;MAC1BC,EAAE,EAAE;QAACjD,UAAU,EAAC;UAACkD,EAAE,EAAC,OAAO;UAACC,EAAE,EAAC;QAAG;MAAC,CAAE;MACrCC,SAAS,OAAC;MAAA;MACVC,OAAO,EAAC,UAAU;MAClBtC,KAAK,EAAEL,UAAW;MAClB4C,QAAQ,EAAEjC,cAAe;MACzBkC,SAAS,EAAEjC,aAAc;MACzBkC,QAAQ,EAAE5C,YAAa;MACvB6C,UAAU,EAAE;QACVC,YAAY,eACVlE,OAAA,CAACF,cAAc;UAACqE,QAAQ,EAAC,KAAK;UAAAZ,QAAA,eAC5BvD,OAAA,CAACH,UAAU;YAAA0D,QAAA,eACTvD,OAAA,CAACJ,MAAM;cAAAwE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACA;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACC;MAEpB;IAAE;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACI,CAAC;AAEX;AAACtD,EAAA,CA1FuBD,sBAAsB;EAAA,QAO3BxB,SAAS;AAAA;AAAAgF,GAAA,GAPJxD,sBAAsB;AAAA,IAAAD,EAAA,EAAAyD,GAAA;AAAAC,YAAA,CAAA1D,EAAA;AAAA0D,YAAA,CAAAD,GAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}