{"ast":null,"code":"var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nvar __spreadArray = this && this.__spreadArray || function (to, from, pack) {\n  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n    if (ar || !(i in from)) {\n      if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n      ar[i] = from[i];\n    }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from));\n};\nimport React from \"react\";\nimport axios from \"axios\";\nimport { useEffect, useRef, useState } from \"react\";\nimport Button from \"./button\";\nimport Input from \"./input\";\nimport ChatLoader from \"./chat-loader\";\nimport Media from \"./media\";\nimport { Close, SendIcon } from \"../assets/icons\";\nvar Chatbox = function (_a) {\n  var id = _a.id,\n    open = _a.open,\n    botId = _a.botId,\n    API_URL = _a.API_URL,\n    mode = _a.mode,\n    primaryColor = _a.primaryColor,\n    token = _a.token,\n    fontFamily = _a.fontFamily,\n    fontSize = _a.fontSize;\n  var _b = useState([]),\n    chats = _b[0],\n    setChats = _b[1];\n  var _c = useState(\"\"),\n    value = _c[0],\n    setValue = _c[1];\n  var _d = useState(false),\n    loading = _d[0],\n    setLoading = _d[1];\n  var ref = useRef(null);\n  var onSubmit = function (message, type, itemId) {\n    if (!message) return;\n    setChats(function (prev) {\n      return __spreadArray(__spreadArray([], prev, true), [{\n        message: message,\n        sent: true\n      }], false);\n    });\n    setValue(\"\");\n    setLoading(true);\n    axios.post(\"\".concat(API_URL).concat(token ? \"/conversation/whatsapp\" : \"/plugin/conversation/\" + botId), {\n      message: itemId !== null && itemId !== void 0 ? itemId : message,\n      chat_id: id,\n      bot_id: botId,\n      message_type: type !== null && type !== void 0 ? type : \"text\"\n    }, {\n      headers: __assign({\n        \"Content-Type\": \"application/json\"\n      }, token ? {\n        Authorization: \"Bearer \" + token\n      } : {})\n    }).then(function (data) {\n      setChats(function (prev) {\n        var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p, _q, _r, _s, _t, _u, _v, _w, _x, _y, _z;\n        return __spreadArray(__spreadArray([], prev, true), [{\n          message: typeof ((_a = data === null || data === void 0 ? void 0 : data.data) === null || _a === void 0 ? void 0 : _a.actions) === \"object\" && ((_d = (_c = (_b = data === null || data === void 0 ? void 0 : data.data) === null || _b === void 0 ? void 0 : _b.actions) === null || _c === void 0 ? void 0 : _c.find(function (action) {\n            return action === null || action === void 0 ? void 0 : action.send_message;\n          })) === null || _d === void 0 ? void 0 : _d.send_message) ? (_g = (_f = (_e = data === null || data === void 0 ? void 0 : data.data) === null || _e === void 0 ? void 0 : _e.actions) === null || _f === void 0 ? void 0 : _f.find(function (action) {\n            return action === null || action === void 0 ? void 0 : action.send_message;\n          })) === null || _g === void 0 ? void 0 : _g.send_message : typeof ((_h = data === null || data === void 0 ? void 0 : data.data) === null || _h === void 0 ? void 0 : _h.message) === \"string\" ? (_j = data === null || data === void 0 ? void 0 : data.data) === null || _j === void 0 ? void 0 : _j.message : ((_l = (_k = data === null || data === void 0 ? void 0 : data.data) === null || _k === void 0 ? void 0 : _k.response) === null || _l === void 0 ? void 0 : _l.find(function (item) {\n            return Object.keys(item)[0] === \"send_message\";\n          })) ? (_q = (_p = (_o = (_m = data === null || data === void 0 ? void 0 : data.data) === null || _m === void 0 ? void 0 : _m.response) === null || _o === void 0 ? void 0 : _o.find(function (item) {\n            return Object.keys(item)[0] === \"send_message\";\n          })) === null || _p === void 0 ? void 0 : _p.send_message) === null || _q === void 0 ? void 0 : _q.join(\"\\n\") : (_s = (_r = data === null || data === void 0 ? void 0 : data.data) === null || _r === void 0 ? void 0 : _r.message) === null || _s === void 0 ? void 0 : _s.join(\"\\n\"),\n          received: true,\n          chat: data === null || data === void 0 ? void 0 : data.data,\n          type: ((_t = data === null || data === void 0 ? void 0 : data.data) === null || _t === void 0 ? void 0 : _t.actions) ? (_x = (_w = (_v = (_u = data === null || data === void 0 ? void 0 : data.data) === null || _u === void 0 ? void 0 : _u.actions) === null || _v === void 0 ? void 0 : _v.find(function (action) {\n            return action === null || action === void 0 ? void 0 : action.send_reply_button;\n          })) === null || _w === void 0 ? void 0 : _w.send_reply_button) === null || _x === void 0 ? void 0 : _x.type : \"\",\n          actions: (_y = data === null || data === void 0 ? void 0 : data.data) === null || _y === void 0 ? void 0 : _y.actions,\n          next_state: (_z = data === null || data === void 0 ? void 0 : data.data) === null || _z === void 0 ? void 0 : _z.next_state\n        }], false);\n      });\n      setLoading(false);\n    }).catch(function (error) {\n      // show error as a chat / a pospup within an app\n      setChats(function (prev) {\n        var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o;\n        return __spreadArray(__spreadArray([], prev, true), [{\n          message: typeof ((_b = (_a = error === null || error === void 0 ? void 0 : error.response) === null || _a === void 0 ? void 0 : _a.data) === null || _b === void 0 ? void 0 : _b.detail) === \"string\" ? (_d = (_c = error === null || error === void 0 ? void 0 : error.response) === null || _c === void 0 ? void 0 : _c.data) === null || _d === void 0 ? void 0 : _d.detail : typeof ((_f = (_e = error === null || error === void 0 ? void 0 : error.response) === null || _e === void 0 ? void 0 : _e.data) === null || _f === void 0 ? void 0 : _f.detail) === \"object\" ? (_j = (_h = (_g = error === null || error === void 0 ? void 0 : error.response) === null || _g === void 0 ? void 0 : _g.data) === null || _h === void 0 ? void 0 : _h.detail[0]) === null || _j === void 0 ? void 0 : _j.msg : typeof ((_l = (_k = error === null || error === void 0 ? void 0 : error.response) === null || _k === void 0 ? void 0 : _k.data) === null || _l === void 0 ? void 0 : _l.message) === \"string\" ? (_o = (_m = error === null || error === void 0 ? void 0 : error.response) === null || _m === void 0 ? void 0 : _m.data) === null || _o === void 0 ? void 0 : _o.message : error === null || error === void 0 ? void 0 : error.message\n        }], false);\n      });\n      setLoading(false);\n    });\n  };\n  useEffect(function () {\n    var _a;\n    if (ref.current) ref.current.scrollTop = ((_a = ref.current) === null || _a === void 0 ? void 0 : _a.scrollHeight) - ref.current.clientHeight;\n  }, [chats]);\n  useEffect(function () {\n    setChats([]);\n    setValue(\"\");\n  }, [open]);\n  return React.createElement(React.Fragment, null, React.createElement(\"div\", {\n    ref: ref,\n    id: \"sarufi-chat-container\",\n    style: {\n      background: \"var(--sarufi-chatbox-bg)\",\n      height: \"calc( 100% - 130px )\",\n      overflowY: \"auto\",\n      display: \"flex\",\n      flexDirection: \"column\",\n      justifyContent: \"space-between\"\n    },\n    className: \"sarufi-scroll-bar\"\n  }, React.createElement(\"div\", {\n    style: {\n      position: \"relative\",\n      padding: \"1rem\"\n    }\n  }, React.createElement(\"div\", {\n    className: \"sarufi-message-body sarufi-message-body-w-arrow\",\n    style: {\n      maxWidth: 280,\n      background: \"var(--sarufi-received-box-bg)\",\n      padding: \"6px 8px 8px 9px\",\n      marginTop: \".7rem\",\n      position: \"relative\",\n      borderRadius: \".3rem\"\n    }\n  }, React.createElement(\"p\", {\n    style: {\n      fontFamily: \"var(--sarufi-font-family)\"\n    }\n  }, \"Send a message to initiate conversation i.e \\\"Hello\\\"\")), React.createElement(\"ul\", null, chats === null || chats === void 0 ? void 0 : chats.map(function (chat, index) {\n    return React.createElement(Chat, {\n      chat: chat,\n      key: index,\n      onSubmit: onSubmit,\n      mode: mode,\n      fontFamily: fontFamily,\n      fontSize: fontSize,\n      index: index\n    });\n  }), loading && React.createElement(\"div\", {\n    className: \"sarufi-message-body sarufi-message-body-w-arrow\",\n    style: {\n      background: \"var(--sarufi-received-box-bg)\",\n      padding: \"6px 8px 8px 9px\",\n      marginTop: \".7rem\",\n      position: \"relative\",\n      borderRadius: \".3rem\",\n      maxWidth: 100\n    }\n  }, React.createElement(ChatLoader, null))))), React.createElement(\"form\", {\n    style: {\n      position: \"relative\",\n      background: mode === \"light\" ? \"white\" : \"var(--sarufi-primary-color)\"\n    },\n    onSubmit: function (e) {\n      e.preventDefault();\n      onSubmit(value);\n    }\n  }, React.createElement(Input, {\n    value: value,\n    mode: mode,\n    primaryColor: primaryColor,\n    autoFocus: true,\n    placeholder: \"Compose a message\",\n    save: function () {\n      return onSubmit(value);\n    },\n    onChange: function (e) {\n      setValue(e.target.value);\n    }\n  }), React.createElement(Button, {\n    mode: mode,\n    label: React.createElement(\"span\", {\n      className: \"sarufi-flex-center\"\n    }, React.createElement(SendIcon, {\n      size: 30\n    }))\n  })), React.createElement(\"p\", {\n    style: {\n      fontSize: \".7rem\",\n      textAlign: \"center\",\n      padding: \"5px 0\",\n      color: mode === \"dark\" ? \"white\" : \"\",\n      background: mode === \"light\" ? \"white\" : \"var(--sarufi-primary-color)\"\n    }\n  }, \"Made by\", \" \", React.createElement(\"a\", {\n    href: \"https://sarufi.io\",\n    target: \"_blank\",\n    style: {\n      textDecoration: \"none\",\n      fontWeight: \"700\",\n      color: \"#2776EA\"\n    }\n  }, \"Sarufi\")));\n};\nexport default Chatbox;\nvar Chat = function (_a) {\n  var _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p, _q, _r, _s, _t, _u, _v, _w, _x, _y, _z, _0, _1, _2, _3, _4, _5, _6, _7, _8, _9, _10, _11, _12, _13, _14, _15, _16, _17, _18;\n  var chat = _a.chat,\n    onSubmit = _a.onSubmit,\n    mode = _a.mode,\n    fontFamily = _a.fontFamily,\n    fontSize = _a.fontSize,\n    index = _a.index;\n  var message = (chat === null || chat === void 0 ? void 0 : chat.type) === \"button\" ? (_e = (_d = (_c = (_b = chat === null || chat === void 0 ? void 0 : chat.actions) === null || _b === void 0 ? void 0 : _b.find(function (action) {\n    return action === null || action === void 0 ? void 0 : action.send_reply_button;\n  })) === null || _c === void 0 ? void 0 : _c.send_reply_button) === null || _d === void 0 ? void 0 : _d.body) === null || _e === void 0 ? void 0 : _e.text : chat === null || chat === void 0 ? void 0 : chat.message;\n  var menu = (_f = chat === null || chat === void 0 ? void 0 : chat.actions) === null || _f === void 0 ? void 0 : _f.find(function (e) {\n    return Object.keys(e)[0] === \"send_button\";\n  });\n  var _19 = useState(false),\n    openChoices = _19[0],\n    setOpenChoices = _19[1];\n  useEffect(function () {\n    var container = document.getElementById(\"sarufi-chat-container\");\n    if (openChoices && container) {\n      container.style.overflowY = \"hidden\";\n    }\n    if (!openChoices && container) {\n      container.style.overflowY = \"auto\";\n    }\n  }, [openChoices]);\n  // listen to escape keyboard event\n  var keydown = function (e) {\n    if (e.key === \"Escape\") return setOpenChoices(false);\n  };\n  useEffect(function () {\n    document.addEventListener(\"keydown\", keydown, false);\n    return function () {\n      document.removeEventListener(\"keydown\", keydown, false);\n    };\n  }, []);\n  var hasMedia = false; // checks if media are present\n  if ((_g = chat === null || chat === void 0 ? void 0 : chat.actions) === null || _g === void 0 ? void 0 : _g.find(function (action) {\n    return action.send_audios && action.send_audios.length > 0 || action.send_images && action.send_images.length > 0 || action.send_videos && action.send_videos.length > 0 || action.send_documents && action.send_documents.length > 0 || action.send_stickers && action.send_stickers.length > 0 || action.send_locations && action.send_locations.length > 0;\n  })) hasMedia = true;\n  return React.createElement(\"li\", {\n    className: \"\".concat((chat === null || chat === void 0 ? void 0 : chat.sent) ? \"sarufi-flex-end\" : \"\"),\n    style: {\n      position: \"relative\"\n    }\n  }, !(chat === null || chat === void 0 ? void 0 : chat.sent) && React.createElement(\"div\", {\n    style: {\n      maxWidth: 280,\n      width: \"80%\"\n    }\n  }, React.createElement(Media, {\n    chat: chat,\n    mode: mode,\n    fontFamily: fontFamily,\n    fontSize: fontSize,\n    messageIndex: index\n  })), React.createElement(\"div\", {\n    className: \"sarufi-message-body \".concat(hasMedia ? \"\" : \"sarufi-message-body-w-arrow\", \" \").concat((chat === null || chat === void 0 ? void 0 : chat.sent) ? \"sent\" : \"\"),\n    style: __assign({\n      background: (chat === null || chat === void 0 ? void 0 : chat.sent) ? \"var(--sarufi-sent-box-bg)\" : \"var(--sarufi-received-box-bg)\",\n      maxWidth: 280,\n      width: hasMedia ? \"100%\" : \"max-content\",\n      minWidth: \"50px\",\n      padding: \"6px 8px 8px 9px\",\n      marginTop: hasMedia ? \"0\" : \"12px\",\n      position: \"relative\",\n      borderRadius: ((_m = (_l = (_k = (_j = (_h = chat === null || chat === void 0 ? void 0 : chat.actions) === null || _h === void 0 ? void 0 : _h.find(function (action) {\n        return action === null || action === void 0 ? void 0 : action.send_reply_button;\n      })) === null || _j === void 0 ? void 0 : _j.send_reply_button) === null || _k === void 0 ? void 0 : _k.action) === null || _l === void 0 ? void 0 : _l.buttons) === null || _m === void 0 ? void 0 : _m.length) > 0 || (!message || typeof message !== \"string\") && (chat === null || chat === void 0 ? void 0 : chat.actions) && menu ? \"0rem\" : \".3rem\"\n    }, !hasMedia && !(chat === null || chat === void 0 ? void 0 : chat.sent) ? {\n      borderTopRightRadius: \".3rem\"\n    } : {})\n  }, (!message || typeof message !== \"string\") && (chat === null || chat === void 0 ? void 0 : chat.actions) && menu && React.createElement(React.Fragment, null, ((_o = menu[\"send_button\"]) === null || _o === void 0 ? void 0 : _o.header) && React.createElement(Message, {\n    message: (_p = menu[\"send_button\"]) === null || _p === void 0 ? void 0 : _p.header,\n    style: {\n      marginBottom: \"1rem\"\n    }\n  }), ((_q = menu[\"send_button\"]) === null || _q === void 0 ? void 0 : _q.body) && React.createElement(Message, {\n    message: (_r = menu[\"send_button\"]) === null || _r === void 0 ? void 0 : _r.body\n  }), ((_s = menu[\"send_button\"]) === null || _s === void 0 ? void 0 : _s.footer) && React.createElement(Message, {\n    message: (_t = menu[\"send_button\"]) === null || _t === void 0 ? void 0 : _t.footer,\n    style: {\n      marginTop: \"1rem\",\n      fontSize: \".9em\",\n      opacity: 0.7\n    }\n  })), ((chat === null || chat === void 0 ? void 0 : chat.type) || message) && !menu && React.createElement(Message, {\n    message: typeof message === \"string\" ? message : message === null || message === void 0 ? void 0 : message.join(\"\\n\")\n  })), (chat === null || chat === void 0 ? void 0 : chat.type) === \"button\" && React.createElement(\"ul\", {\n    className: \"sarufi-flex-wide sarufi-flex-wrap\",\n    style: {\n      maxWidth: 280\n    }\n  }, (_y = (_x = (_w = (_v = (_u = chat === null || chat === void 0 ? void 0 : chat.actions) === null || _u === void 0 ? void 0 : _u.find(function (action) {\n    return action === null || action === void 0 ? void 0 : action.send_reply_button;\n  })) === null || _v === void 0 ? void 0 : _v.send_reply_button) === null || _w === void 0 ? void 0 : _w.action) === null || _x === void 0 ? void 0 : _x.buttons) === null || _y === void 0 ? void 0 : _y.map(function (el, i) {\n    var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l;\n    return React.createElement(\"li\", {\n      style: {\n        width: \"100%\",\n        marginTop: \"2px\",\n        background: \"var(--sarufi-received-box-bg)\",\n        borderBottomLeftRadius: i === ((_e = (_d = (_c = (_b = (_a = chat === null || chat === void 0 ? void 0 : chat.actions) === null || _a === void 0 ? void 0 : _a.find(function (action) {\n          return action === null || action === void 0 ? void 0 : action.send_reply_button;\n        })) === null || _b === void 0 ? void 0 : _b.send_reply_button) === null || _c === void 0 ? void 0 : _c.action) === null || _d === void 0 ? void 0 : _d.buttons) === null || _e === void 0 ? void 0 : _e.length) - 1 ? \".3rem\" : \"0\",\n        borderBottomRightRadius: i === ((_k = (_j = (_h = (_g = (_f = chat === null || chat === void 0 ? void 0 : chat.actions) === null || _f === void 0 ? void 0 : _f.find(function (action) {\n          return action === null || action === void 0 ? void 0 : action.send_reply_button;\n        })) === null || _g === void 0 ? void 0 : _g.send_reply_button) === null || _h === void 0 ? void 0 : _h.action) === null || _j === void 0 ? void 0 : _j.buttons) === null || _k === void 0 ? void 0 : _k.length) - 1 ? \".3rem\" : \"0\"\n      },\n      key: i\n    }, React.createElement(\"button\", {\n      onClick: function () {\n        var _a, _b;\n        return onSubmit((_a = el === null || el === void 0 ? void 0 : el.reply) === null || _a === void 0 ? void 0 : _a.title, (chat === null || chat === void 0 ? void 0 : chat.type) !== \"text\" ? \"interactive\" : \"text\", (_b = el === null || el === void 0 ? void 0 : el.reply) === null || _b === void 0 ? void 0 : _b.id);\n      },\n      style: {\n        width: \"100%\",\n        height: \"100%\",\n        background: \"none\",\n        border: \"none\",\n        color: \"var(--sarufi-received-box-link-color)\",\n        cursor: \"pointer\",\n        fontSize: \"inherit\",\n        padding: \"10px\",\n        fontFamily: \"var(--sarufi-font-family)\"\n      },\n      className: \"sarufi-flex-center sarufi-flex-wrap\"\n    }, (_l = el === null || el === void 0 ? void 0 : el.reply) === null || _l === void 0 ? void 0 : _l.title));\n  })), (!message || typeof message !== \"string\") && (chat === null || chat === void 0 ? void 0 : chat.actions) && menu && React.createElement(\"div\", {\n    className: \"bg-neutral-0 sarufi-flex-center\",\n    style: {\n      maxWidth: 280,\n      marginTop: \"2px\",\n      background: \"var(--sarufi-received-box-bg)\",\n      borderBottomLeftRadius: \".3rem\",\n      borderBottomRightRadius: \".3rem\"\n    }\n  }, React.createElement(\"button\", {\n    onClick: function () {\n      return setOpenChoices(true);\n    },\n    className: \"link text-small-100 sarufi-flex-center cursor-pointer\",\n    style: {\n      width: \"100%\",\n      height: \"100%\",\n      background: \"none\",\n      border: \"none\",\n      color: \"var(--sarufi-received-box-link-color)\",\n      cursor: \"pointer\",\n      fontSize: \"inherit\",\n      padding: \"10px\",\n      fontFamily: \"var(--sarufi-font-family)\"\n    }\n  }, (_0 = (_z = menu[\"send_button\"]) === null || _z === void 0 ? void 0 : _z.button) !== null && _0 !== void 0 ? _0 : (_2 = (_1 = menu[\"send_button\"]) === null || _1 === void 0 ? void 0 : _1.action) === null || _2 === void 0 ? void 0 : _2.button)), (!message || typeof message !== \"string\") && (chat === null || chat === void 0 ? void 0 : chat.actions) && menu && openChoices && React.createElement(\"div\", {\n    className: \"choices\",\n    style: {\n      position: \"fixed\",\n      zIndex: 100004,\n      transition: \"0.35s linear\"\n    }\n  }, React.createElement(\"div\", {\n    className: \"sarufi-backdrop\",\n    style: {\n      position: \"fixed\",\n      background: \"rgba(0, 0, 0, 0.6)\",\n      zIndex: 100004,\n      transition: \"0.35s linear\"\n    },\n    onClick: function () {\n      return setOpenChoices(false);\n    }\n  }), React.createElement(\"div\", {\n    className: \"sarufi-options sarufi-scroll-bar\",\n    style: {\n      zIndex: 100005,\n      background: \"var(--sarufi-received-box-bg)\",\n      color: \"var(--sarufi-received-box-color)\",\n      borderRadius: \".3rem\"\n    }\n  }, React.createElement(\"div\", {\n    className: \"sarufi-flex-start\",\n    style: {\n      padding: \"1rem\",\n      paddingBottom: \".5rem\",\n      marginBottom: \"1rem\"\n    }\n  }, React.createElement(\"button\", {\n    onClick: function () {\n      return setOpenChoices(false);\n    },\n    style: {\n      background: \"none\",\n      border: \"none\",\n      cursor: \"pointer\",\n      color: \"var(--sarufi-received-box-color)\"\n    },\n    className: \"sarufi-button\"\n  }, React.createElement(Close, {\n    size: 18\n  })), ((_5 = (_4 = (_3 = menu[\"send_button\"]) === null || _3 === void 0 ? void 0 : _3.action) === null || _4 === void 0 ? void 0 : _4.sections[0]) === null || _5 === void 0 ? void 0 : _5.title) && React.createElement(\"p\", {\n    style: {\n      width: \"100%\",\n      marginLeft: \"1rem\",\n      paddingRight: \"2rem\",\n      textAlign: \"center\",\n      fontFamily: \"var(--sarufi-font-family)\"\n    }\n  }, (_8 = (_7 = (_6 = menu[\"send_button\"]) === null || _6 === void 0 ? void 0 : _6.action) === null || _7 === void 0 ? void 0 : _7.sections[0]) === null || _8 === void 0 ? void 0 : _8.title)), React.createElement(\"ul\", {\n    style: {\n      padding: \"1rem\",\n      paddingTop: \"0\"\n    }\n  }, ((_13 = (_12 = (_11 = (_10 = (_9 = menu[\"send_button\"]) === null || _9 === void 0 ? void 0 : _9.action) === null || _10 === void 0 ? void 0 : _10.sections[0]) === null || _11 === void 0 ? void 0 : _11.rows) === null || _12 === void 0 ? void 0 : _12.filter(function (el) {\n    return el === null || el === void 0 ? void 0 : el.title;\n  })) === null || _13 === void 0 ? void 0 : _13.length) > 0 && ((_18 = (_17 = (_16 = (_15 = (_14 = menu[\"send_button\"]) === null || _14 === void 0 ? void 0 : _14.action) === null || _15 === void 0 ? void 0 : _15.sections[0]) === null || _16 === void 0 ? void 0 : _16.rows) === null || _17 === void 0 ? void 0 : _17.filter(function (el) {\n    return el === null || el === void 0 ? void 0 : el.title;\n  })) === null || _18 === void 0 ? void 0 : _18.map(function (row) {\n    return React.createElement(\"li\", {\n      className: \"sarufi-flex-wide \",\n      style: {\n        marginBottom: \"1.5rem\",\n        cursor: \"pointer\"\n      },\n      key: row === null || row === void 0 ? void 0 : row.title,\n      onClick: function () {\n        onSubmit(row === null || row === void 0 ? void 0 : row.title, \"interactive\", row === null || row === void 0 ? void 0 : row.id);\n        setOpenChoices(false);\n      }\n    }, React.createElement(\"div\", null, React.createElement(\"p\", {\n      className: \"text-small-200\",\n      style: {\n        fontFamily: \"var(--sarufi-font-family)\"\n      }\n    }, row === null || row === void 0 ? void 0 : row.title), React.createElement(\"p\", {\n      style: {\n        opacity: \".7\",\n        fontSize: \".9em\",\n        fontFamily: \"var(--sarufi-font-family)\"\n      }\n    }, row === null || row === void 0 ? void 0 : row.description)), React.createElement(\"div\", null, React.createElement(\"span\", {\n      className: \"sarufi-flex-center\",\n      style: {\n        height: 15,\n        width: 15,\n        borderRadius: \"50%\",\n        border: \"1px solid var(--sarufi-received-box-color)\",\n        marginLeft: \"1rem\"\n      }\n    })));\n  }))))));\n};\nvar Message = function (_a) {\n  var message = _a.message,\n    className = _a.className,\n    style = _a.style;\n  return React.createElement(React.Fragment, null, typeof message === \"string\" && React.createElement(\"p\", {\n    style: __assign({\n      fontFamily: \"var(--sarufi-font-family)\",\n      width: \"100%\"\n    }, style),\n    className: className !== null && className !== void 0 ? className : \"\",\n    dangerouslySetInnerHTML: {\n      __html: wrapUrl(wrap(message))\n    }\n  }));\n};\nexport var wrapUrl = function (str) {\n  var url_pattern = /(http(s)?:\\/\\/.)?(www\\.)?[-a-zA-Z0-9@:%._\\+~#=]{2,256}\\.[a-z]{2,6}\\b([-a-zA-Z0-9@:%_\\+.~#?&//=]*)/g;\n  var strArr = [];\n  var words = str.split(\" \");\n  words.forEach(function (word) {\n    // split words by \\n\n    var newWords = word.split(\"\\n\");\n    var newWordsArr = [];\n    newWords.forEach(function (word) {\n      if (!word.includes(\".\")) {\n        return newWordsArr = __spreadArray(__spreadArray([], newWordsArr, true), [word], false);\n      }\n      if (!url_pattern.test(word)) {\n        return newWordsArr = __spreadArray(__spreadArray([], newWordsArr, true), [word], false);\n      }\n      var protocol_pattern = /^(?:(?:https?|ftp):\\/\\/)/i;\n      var href = protocol_pattern.test(word) ? word : \"http://\" + word;\n      return newWordsArr = __spreadArray(__spreadArray([], newWordsArr, true), ['<a href=\"' + href + '\" target=\"_blank\">' + word + \"</a>\"], false);\n    });\n    strArr = __spreadArray(__spreadArray([], strArr, true), [newWordsArr.join(\"\\n\")], false);\n  });\n  return strArr.join(\" \");\n};\nexport var wrap = function (str) {\n  var _a, _b, _c;\n  if (str && typeof str === \"string\") {\n    return (_c = (_b = (_a = str === null || str === void 0 ? void 0 : str.replace(/(?:\\*)([^*]*)(?:\\*)/gm, \"<strong>$1</strong> \")) === null || _a === void 0 ? void 0 : _a.replace(/(?:_)([^_]*)(?:_)/gm, \"<i>$1</i> \")) === null || _b === void 0 ? void 0 : _b.replace(/(?:~)([^~]*)(?:~)/gm, \"<strike>$1</strike> \")) === null || _c === void 0 ? void 0 : _c.replace(/(?:```)([^```]*)(?:```)/gm, \"<tt>$1</tt> \");\n  } else {\n    return str;\n  }\n};","map":{"version":3,"names":["__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","__spreadArray","to","from","pack","l","ar","Array","slice","concat","React","axios","useEffect","useRef","useState","Button","Input","ChatLoader","Media","Close","SendIcon","Chatbox","_a","id","open","botId","API_URL","mode","primaryColor","token","fontFamily","fontSize","_b","chats","setChats","_c","value","setValue","_d","loading","setLoading","ref","onSubmit","message","type","itemId","prev","sent","post","chat_id","bot_id","message_type","headers","Authorization","then","data","_e","_f","_g","_h","_j","_k","_l","_m","_o","_p","_q","_r","_s","_t","_u","_v","_w","_x","_y","_z","actions","find","action","send_message","response","item","keys","join","received","chat","send_reply_button","next_state","catch","error","detail","msg","current","scrollTop","scrollHeight","clientHeight","createElement","Fragment","style","background","height","overflowY","display","flexDirection","justifyContent","className","position","padding","maxWidth","marginTop","borderRadius","map","index","Chat","key","e","preventDefault","autoFocus","placeholder","save","onChange","target","label","size","textAlign","color","href","textDecoration","fontWeight","_0","_1","_2","_3","_4","_5","_6","_7","_8","_9","_10","_11","_12","_13","_14","_15","_16","_17","_18","body","text","menu","_19","openChoices","setOpenChoices","container","document","getElementById","keydown","addEventListener","removeEventListener","hasMedia","send_audios","send_images","send_videos","send_documents","send_stickers","send_locations","width","messageIndex","minWidth","buttons","borderTopRightRadius","header","Message","marginBottom","footer","opacity","el","borderBottomLeftRadius","borderBottomRightRadius","onClick","reply","title","border","cursor","button","zIndex","transition","paddingBottom","sections","marginLeft","paddingRight","paddingTop","rows","filter","row","description","dangerouslySetInnerHTML","__html","wrapUrl","wrap","str","url_pattern","strArr","words","split","forEach","word","newWords","newWordsArr","includes","test","protocol_pattern","replace"],"sources":["/home/kareem/github-repos/JoKa_Movies_Client/node_modules/react-sarufi-chatbox/lib/esm/chat/chatbox.js"],"sourcesContent":["var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nimport React from \"react\";\nimport axios from \"axios\";\nimport { useEffect, useRef, useState } from \"react\";\nimport Button from \"./button\";\nimport Input from \"./input\";\nimport ChatLoader from \"./chat-loader\";\nimport Media from \"./media\";\nimport { Close, SendIcon } from \"../assets/icons\";\nvar Chatbox = function (_a) {\n    var id = _a.id, open = _a.open, botId = _a.botId, API_URL = _a.API_URL, mode = _a.mode, primaryColor = _a.primaryColor, token = _a.token, fontFamily = _a.fontFamily, fontSize = _a.fontSize;\n    var _b = useState([]), chats = _b[0], setChats = _b[1];\n    var _c = useState(\"\"), value = _c[0], setValue = _c[1];\n    var _d = useState(false), loading = _d[0], setLoading = _d[1];\n    var ref = useRef(null);\n    var onSubmit = function (message, type, itemId) {\n        if (!message)\n            return;\n        setChats(function (prev) {\n            return __spreadArray(__spreadArray([], prev, true), [{ message: message, sent: true }], false);\n        });\n        setValue(\"\");\n        setLoading(true);\n        axios\n            .post(\"\".concat(API_URL).concat(token ? \"/conversation/whatsapp\" : \"/plugin/conversation/\" + botId), {\n            message: itemId !== null && itemId !== void 0 ? itemId : message,\n            chat_id: id,\n            bot_id: botId,\n            message_type: type !== null && type !== void 0 ? type : \"text\",\n        }, {\n            headers: __assign({ \"Content-Type\": \"application/json\" }, (token ? { Authorization: \"Bearer \" + token } : {})),\n        })\n            .then(function (data) {\n            setChats(function (prev) {\n                var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p, _q, _r, _s, _t, _u, _v, _w, _x, _y, _z;\n                return __spreadArray(__spreadArray([], prev, true), [\n                    {\n                        message: typeof ((_a = data === null || data === void 0 ? void 0 : data.data) === null || _a === void 0 ? void 0 : _a.actions) === \"object\" &&\n                            ((_d = (_c = (_b = data === null || data === void 0 ? void 0 : data.data) === null || _b === void 0 ? void 0 : _b.actions) === null || _c === void 0 ? void 0 : _c.find(function (action) { return action === null || action === void 0 ? void 0 : action.send_message; })) === null || _d === void 0 ? void 0 : _d.send_message)\n                            ? (_g = (_f = (_e = data === null || data === void 0 ? void 0 : data.data) === null || _e === void 0 ? void 0 : _e.actions) === null || _f === void 0 ? void 0 : _f.find(function (action) { return action === null || action === void 0 ? void 0 : action.send_message; })) === null || _g === void 0 ? void 0 : _g.send_message\n                            : typeof ((_h = data === null || data === void 0 ? void 0 : data.data) === null || _h === void 0 ? void 0 : _h.message) === \"string\"\n                                ? (_j = data === null || data === void 0 ? void 0 : data.data) === null || _j === void 0 ? void 0 : _j.message\n                                : ((_l = (_k = data === null || data === void 0 ? void 0 : data.data) === null || _k === void 0 ? void 0 : _k.response) === null || _l === void 0 ? void 0 : _l.find(function (item) { return Object.keys(item)[0] === \"send_message\"; }))\n                                    ? (_q = (_p = (_o = (_m = data === null || data === void 0 ? void 0 : data.data) === null || _m === void 0 ? void 0 : _m.response) === null || _o === void 0 ? void 0 : _o.find(function (item) { return Object.keys(item)[0] === \"send_message\"; })) === null || _p === void 0 ? void 0 : _p.send_message) === null || _q === void 0 ? void 0 : _q.join(\"\\n\")\n                                    : (_s = (_r = data === null || data === void 0 ? void 0 : data.data) === null || _r === void 0 ? void 0 : _r.message) === null || _s === void 0 ? void 0 : _s.join(\"\\n\"),\n                        received: true,\n                        chat: data === null || data === void 0 ? void 0 : data.data,\n                        type: ((_t = data === null || data === void 0 ? void 0 : data.data) === null || _t === void 0 ? void 0 : _t.actions)\n                            ? (_x = (_w = (_v = (_u = data === null || data === void 0 ? void 0 : data.data) === null || _u === void 0 ? void 0 : _u.actions) === null || _v === void 0 ? void 0 : _v.find(function (action) { return action === null || action === void 0 ? void 0 : action.send_reply_button; })) === null || _w === void 0 ? void 0 : _w.send_reply_button) === null || _x === void 0 ? void 0 : _x.type\n                            : \"\",\n                        actions: (_y = data === null || data === void 0 ? void 0 : data.data) === null || _y === void 0 ? void 0 : _y.actions,\n                        next_state: (_z = data === null || data === void 0 ? void 0 : data.data) === null || _z === void 0 ? void 0 : _z.next_state,\n                    },\n                ], false);\n            });\n            setLoading(false);\n        })\n            .catch(function (error) {\n            // show error as a chat / a pospup within an app\n            setChats(function (prev) {\n                var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o;\n                return __spreadArray(__spreadArray([], prev, true), [\n                    {\n                        message: typeof ((_b = (_a = error === null || error === void 0 ? void 0 : error.response) === null || _a === void 0 ? void 0 : _a.data) === null || _b === void 0 ? void 0 : _b.detail) === \"string\"\n                            ? (_d = (_c = error === null || error === void 0 ? void 0 : error.response) === null || _c === void 0 ? void 0 : _c.data) === null || _d === void 0 ? void 0 : _d.detail\n                            : typeof ((_f = (_e = error === null || error === void 0 ? void 0 : error.response) === null || _e === void 0 ? void 0 : _e.data) === null || _f === void 0 ? void 0 : _f.detail) === \"object\"\n                                ? (_j = (_h = (_g = error === null || error === void 0 ? void 0 : error.response) === null || _g === void 0 ? void 0 : _g.data) === null || _h === void 0 ? void 0 : _h.detail[0]) === null || _j === void 0 ? void 0 : _j.msg\n                                : typeof ((_l = (_k = error === null || error === void 0 ? void 0 : error.response) === null || _k === void 0 ? void 0 : _k.data) === null || _l === void 0 ? void 0 : _l.message) === \"string\"\n                                    ? (_o = (_m = error === null || error === void 0 ? void 0 : error.response) === null || _m === void 0 ? void 0 : _m.data) === null || _o === void 0 ? void 0 : _o.message\n                                    : error === null || error === void 0 ? void 0 : error.message,\n                    },\n                ], false);\n            });\n            setLoading(false);\n        });\n    };\n    useEffect(function () {\n        var _a;\n        if (ref.current)\n            ref.current.scrollTop =\n                ((_a = ref.current) === null || _a === void 0 ? void 0 : _a.scrollHeight) - ref.current.clientHeight;\n    }, [chats]);\n    useEffect(function () {\n        setChats([]);\n        setValue(\"\");\n    }, [open]);\n    return (React.createElement(React.Fragment, null,\n        React.createElement(\"div\", { ref: ref, id: \"sarufi-chat-container\", style: {\n                background: \"var(--sarufi-chatbox-bg)\",\n                height: \"calc( 100% - 130px )\",\n                overflowY: \"auto\",\n                display: \"flex\",\n                flexDirection: \"column\",\n                justifyContent: \"space-between\",\n            }, className: \"sarufi-scroll-bar\" },\n            React.createElement(\"div\", { style: {\n                    position: \"relative\",\n                    padding: \"1rem\",\n                } },\n                React.createElement(\"div\", { className: \"sarufi-message-body sarufi-message-body-w-arrow\", style: {\n                        maxWidth: 280,\n                        background: \"var(--sarufi-received-box-bg)\",\n                        padding: \"6px 8px 8px 9px\",\n                        marginTop: \".7rem\",\n                        position: \"relative\",\n                        borderRadius: \".3rem\",\n                    } },\n                    React.createElement(\"p\", { style: {\n                            fontFamily: \"var(--sarufi-font-family)\",\n                        } }, \"Send a message to initiate conversation i.e \\\"Hello\\\"\")),\n                React.createElement(\"ul\", null, chats === null || chats === void 0 ? void 0 :\n                    chats.map(function (chat, index) { return (React.createElement(Chat, { chat: chat, key: index, onSubmit: onSubmit, mode: mode, fontFamily: fontFamily, fontSize: fontSize, index: index })); }),\n                    loading && (React.createElement(\"div\", { className: \"sarufi-message-body sarufi-message-body-w-arrow\", style: {\n                            background: \"var(--sarufi-received-box-bg)\",\n                            padding: \"6px 8px 8px 9px\",\n                            marginTop: \".7rem\",\n                            position: \"relative\",\n                            borderRadius: \".3rem\",\n                            maxWidth: 100,\n                        } },\n                        React.createElement(ChatLoader, null)))))),\n        React.createElement(\"form\", { style: {\n                position: \"relative\",\n                background: mode === \"light\" ? \"white\" : \"var(--sarufi-primary-color)\",\n            }, onSubmit: function (e) {\n                e.preventDefault();\n                onSubmit(value);\n            } },\n            React.createElement(Input, { value: value, mode: mode, primaryColor: primaryColor, autoFocus: true, placeholder: \"Compose a message\", save: function () { return onSubmit(value); }, onChange: function (e) {\n                    setValue(e.target.value);\n                } }),\n            React.createElement(Button, { mode: mode, label: React.createElement(\"span\", { className: \"sarufi-flex-center\" },\n                    React.createElement(SendIcon, { size: 30 })) })),\n        React.createElement(\"p\", { style: {\n                fontSize: \".7rem\",\n                textAlign: \"center\",\n                padding: \"5px 0\",\n                color: mode === \"dark\" ? \"white\" : \"\",\n                background: mode === \"light\" ? \"white\" : \"var(--sarufi-primary-color)\",\n            } },\n            \"Made by\",\n            \" \",\n            React.createElement(\"a\", { href: \"https://sarufi.io\", target: \"_blank\", style: {\n                    textDecoration: \"none\",\n                    fontWeight: \"700\",\n                    color: \"#2776EA\",\n                } }, \"Sarufi\"))));\n};\nexport default Chatbox;\nvar Chat = function (_a) {\n    var _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p, _q, _r, _s, _t, _u, _v, _w, _x, _y, _z, _0, _1, _2, _3, _4, _5, _6, _7, _8, _9, _10, _11, _12, _13, _14, _15, _16, _17, _18;\n    var chat = _a.chat, onSubmit = _a.onSubmit, mode = _a.mode, fontFamily = _a.fontFamily, fontSize = _a.fontSize, index = _a.index;\n    var message = (chat === null || chat === void 0 ? void 0 : chat.type) === \"button\"\n        ? (_e = (_d = (_c = (_b = chat === null || chat === void 0 ? void 0 : chat.actions) === null || _b === void 0 ? void 0 : _b.find(function (action) { return action === null || action === void 0 ? void 0 : action.send_reply_button; })) === null || _c === void 0 ? void 0 : _c.send_reply_button) === null || _d === void 0 ? void 0 : _d.body) === null || _e === void 0 ? void 0 : _e.text\n        : chat === null || chat === void 0 ? void 0 : chat.message;\n    var menu = (_f = chat === null || chat === void 0 ? void 0 : chat.actions) === null || _f === void 0 ? void 0 : _f.find(function (e) { return Object.keys(e)[0] === \"send_button\"; });\n    var _19 = useState(false), openChoices = _19[0], setOpenChoices = _19[1];\n    useEffect(function () {\n        var container = document.getElementById(\"sarufi-chat-container\");\n        if (openChoices && container) {\n            container.style.overflowY = \"hidden\";\n        }\n        if (!openChoices && container) {\n            container.style.overflowY = \"auto\";\n        }\n    }, [openChoices]);\n    // listen to escape keyboard event\n    var keydown = function (e) {\n        if (e.key === \"Escape\")\n            return setOpenChoices(false);\n    };\n    useEffect(function () {\n        document.addEventListener(\"keydown\", keydown, false);\n        return function () {\n            document.removeEventListener(\"keydown\", keydown, false);\n        };\n    }, []);\n    var hasMedia = false; // checks if media are present\n    if ((_g = chat === null || chat === void 0 ? void 0 : chat.actions) === null || _g === void 0 ? void 0 : _g.find(function (action) {\n        return ((action.send_audios && action.send_audios.length > 0) ||\n            (action.send_images && action.send_images.length > 0) ||\n            (action.send_videos && action.send_videos.length > 0) ||\n            (action.send_documents && action.send_documents.length > 0) ||\n            (action.send_stickers && action.send_stickers.length > 0) ||\n            (action.send_locations && action.send_locations.length > 0));\n    }))\n        hasMedia = true;\n    return (React.createElement(\"li\", { className: \"\".concat((chat === null || chat === void 0 ? void 0 : chat.sent) ? \"sarufi-flex-end\" : \"\"), style: {\n            position: \"relative\",\n        } },\n        !(chat === null || chat === void 0 ? void 0 : chat.sent) && (React.createElement(\"div\", { style: {\n                maxWidth: 280,\n                width: \"80%\",\n            } },\n            React.createElement(Media, { chat: chat, mode: mode, fontFamily: fontFamily, fontSize: fontSize, messageIndex: index }))),\n        React.createElement(\"div\", { className: \"sarufi-message-body \".concat(hasMedia ? \"\" : \"sarufi-message-body-w-arrow\", \" \").concat((chat === null || chat === void 0 ? void 0 : chat.sent) ? \"sent\" : \"\"), style: __assign({ background: (chat === null || chat === void 0 ? void 0 : chat.sent)\n                    ? \"var(--sarufi-sent-box-bg)\"\n                    : \"var(--sarufi-received-box-bg)\", maxWidth: 280, width: hasMedia ? \"100%\" : \"max-content\", minWidth: \"50px\", padding: \"6px 8px 8px 9px\", marginTop: hasMedia ? \"0\" : \"12px\", position: \"relative\", borderRadius: ((_m = (_l = (_k = (_j = (_h = chat === null || chat === void 0 ? void 0 : chat.actions) === null || _h === void 0 ? void 0 : _h.find(function (action) { return action === null || action === void 0 ? void 0 : action.send_reply_button; })) === null || _j === void 0 ? void 0 : _j.send_reply_button) === null || _k === void 0 ? void 0 : _k.action) === null || _l === void 0 ? void 0 : _l.buttons) === null || _m === void 0 ? void 0 : _m.length) > 0 ||\n                    ((!message || typeof message !== \"string\") && (chat === null || chat === void 0 ? void 0 : chat.actions) && menu)\n                    ? \"0rem\"\n                    : \".3rem\" }, (!hasMedia && !(chat === null || chat === void 0 ? void 0 : chat.sent)\n                ? { borderTopRightRadius: \".3rem\" }\n                : {})) },\n            (!message || typeof message !== \"string\") && (chat === null || chat === void 0 ? void 0 : chat.actions) && menu && (React.createElement(React.Fragment, null,\n                ((_o = menu[\"send_button\"]) === null || _o === void 0 ? void 0 : _o.header) && (React.createElement(Message, { message: (_p = menu[\"send_button\"]) === null || _p === void 0 ? void 0 : _p.header, style: {\n                        marginBottom: \"1rem\",\n                    } })),\n                ((_q = menu[\"send_button\"]) === null || _q === void 0 ? void 0 : _q.body) && (React.createElement(Message, { message: (_r = menu[\"send_button\"]) === null || _r === void 0 ? void 0 : _r.body })),\n                ((_s = menu[\"send_button\"]) === null || _s === void 0 ? void 0 : _s.footer) && (React.createElement(Message, { message: (_t = menu[\"send_button\"]) === null || _t === void 0 ? void 0 : _t.footer, style: {\n                        marginTop: \"1rem\",\n                        fontSize: \".9em\",\n                        opacity: 0.7,\n                    } })))),\n            ((chat === null || chat === void 0 ? void 0 : chat.type) || message) && !menu && (React.createElement(Message, { message: typeof message === \"string\" ? message : message === null || message === void 0 ? void 0 : message.join(\"\\n\") }))),\n        (chat === null || chat === void 0 ? void 0 : chat.type) === \"button\" && (React.createElement(\"ul\", { className: \"sarufi-flex-wide sarufi-flex-wrap\", style: {\n                maxWidth: 280,\n            } }, (_y = (_x = (_w = (_v = (_u = chat === null || chat === void 0 ? void 0 : chat.actions) === null || _u === void 0 ? void 0 : _u.find(function (action) { return action === null || action === void 0 ? void 0 : action.send_reply_button; })) === null || _v === void 0 ? void 0 : _v.send_reply_button) === null || _w === void 0 ? void 0 : _w.action) === null || _x === void 0 ? void 0 : _x.buttons) === null || _y === void 0 ? void 0 : _y.map(function (el, i) {\n            var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l;\n            return (React.createElement(\"li\", { style: {\n                    width: \"100%\",\n                    marginTop: \"2px\",\n                    background: \"var(--sarufi-received-box-bg)\",\n                    borderBottomLeftRadius: i ===\n                        ((_e = (_d = (_c = (_b = (_a = chat === null || chat === void 0 ? void 0 : chat.actions) === null || _a === void 0 ? void 0 : _a.find(function (action) { return action === null || action === void 0 ? void 0 : action.send_reply_button; })) === null || _b === void 0 ? void 0 : _b.send_reply_button) === null || _c === void 0 ? void 0 : _c.action) === null || _d === void 0 ? void 0 : _d.buttons) === null || _e === void 0 ? void 0 : _e.length) -\n                            1\n                        ? \".3rem\"\n                        : \"0\",\n                    borderBottomRightRadius: i ===\n                        ((_k = (_j = (_h = (_g = (_f = chat === null || chat === void 0 ? void 0 : chat.actions) === null || _f === void 0 ? void 0 : _f.find(function (action) { return action === null || action === void 0 ? void 0 : action.send_reply_button; })) === null || _g === void 0 ? void 0 : _g.send_reply_button) === null || _h === void 0 ? void 0 : _h.action) === null || _j === void 0 ? void 0 : _j.buttons) === null || _k === void 0 ? void 0 : _k.length) -\n                            1\n                        ? \".3rem\"\n                        : \"0\",\n                }, key: i },\n                React.createElement(\"button\", { onClick: function () {\n                        var _a, _b;\n                        return onSubmit((_a = el === null || el === void 0 ? void 0 : el.reply) === null || _a === void 0 ? void 0 : _a.title, (chat === null || chat === void 0 ? void 0 : chat.type) !== \"text\" ? \"interactive\" : \"text\", (_b = el === null || el === void 0 ? void 0 : el.reply) === null || _b === void 0 ? void 0 : _b.id);\n                    }, style: {\n                        width: \"100%\",\n                        height: \"100%\",\n                        background: \"none\",\n                        border: \"none\",\n                        color: \"var(--sarufi-received-box-link-color)\",\n                        cursor: \"pointer\",\n                        fontSize: \"inherit\",\n                        padding: \"10px\",\n                        fontFamily: \"var(--sarufi-font-family)\",\n                    }, className: \"sarufi-flex-center sarufi-flex-wrap\" }, (_l = el === null || el === void 0 ? void 0 : el.reply) === null || _l === void 0 ? void 0 : _l.title)));\n        }))),\n        (!message || typeof message !== \"string\") && (chat === null || chat === void 0 ? void 0 : chat.actions) && menu && (React.createElement(\"div\", { className: \"bg-neutral-0 sarufi-flex-center\", style: {\n                maxWidth: 280,\n                marginTop: \"2px\",\n                background: \"var(--sarufi-received-box-bg)\",\n                borderBottomLeftRadius: \".3rem\",\n                borderBottomRightRadius: \".3rem\",\n            } },\n            React.createElement(\"button\", { onClick: function () { return setOpenChoices(true); }, className: \"link text-small-100 sarufi-flex-center cursor-pointer\", style: {\n                    width: \"100%\",\n                    height: \"100%\",\n                    background: \"none\",\n                    border: \"none\",\n                    color: \"var(--sarufi-received-box-link-color)\",\n                    cursor: \"pointer\",\n                    fontSize: \"inherit\",\n                    padding: \"10px\",\n                    fontFamily: \"var(--sarufi-font-family)\",\n                } }, (_0 = (_z = menu[\"send_button\"]) === null || _z === void 0 ? void 0 : _z.button) !== null && _0 !== void 0 ? _0 : (_2 = (_1 = menu[\"send_button\"]) === null || _1 === void 0 ? void 0 : _1.action) === null || _2 === void 0 ? void 0 : _2.button))),\n        (!message || typeof message !== \"string\") &&\n            (chat === null || chat === void 0 ? void 0 : chat.actions) &&\n            menu &&\n            openChoices && (React.createElement(\"div\", { className: \"choices\", style: {\n                position: \"fixed\",\n                zIndex: 100004,\n                transition: \"0.35s linear\",\n            } },\n            React.createElement(\"div\", { className: \"sarufi-backdrop\", style: {\n                    position: \"fixed\",\n                    background: \"rgba(0, 0, 0, 0.6)\",\n                    zIndex: 100004,\n                    transition: \"0.35s linear\",\n                }, onClick: function () { return setOpenChoices(false); } }),\n            React.createElement(\"div\", { className: \"sarufi-options sarufi-scroll-bar\", style: {\n                    zIndex: 100005,\n                    background: \"var(--sarufi-received-box-bg)\",\n                    color: \"var(--sarufi-received-box-color)\",\n                    borderRadius: \".3rem\",\n                } },\n                React.createElement(\"div\", { className: \"sarufi-flex-start\", style: {\n                        padding: \"1rem\",\n                        paddingBottom: \".5rem\",\n                        marginBottom: \"1rem\",\n                    } },\n                    React.createElement(\"button\", { onClick: function () { return setOpenChoices(false); }, style: {\n                            background: \"none\",\n                            border: \"none\",\n                            cursor: \"pointer\",\n                            color: \"var(--sarufi-received-box-color)\",\n                        }, className: \"sarufi-button\" },\n                        React.createElement(Close, { size: 18 })),\n                    ((_5 = (_4 = (_3 = menu[\"send_button\"]) === null || _3 === void 0 ? void 0 : _3.action) === null || _4 === void 0 ? void 0 : _4.sections[0]) === null || _5 === void 0 ? void 0 : _5.title) && (React.createElement(\"p\", { style: {\n                            width: \"100%\",\n                            marginLeft: \"1rem\",\n                            paddingRight: \"2rem\",\n                            textAlign: \"center\",\n                            fontFamily: \"var(--sarufi-font-family)\",\n                        } }, (_8 = (_7 = (_6 = menu[\"send_button\"]) === null || _6 === void 0 ? void 0 : _6.action) === null || _7 === void 0 ? void 0 : _7.sections[0]) === null || _8 === void 0 ? void 0 : _8.title))),\n                React.createElement(\"ul\", { style: {\n                        padding: \"1rem\",\n                        paddingTop: \"0\",\n                    } }, ((_13 = (_12 = (_11 = (_10 = (_9 = menu[\"send_button\"]) === null || _9 === void 0 ? void 0 : _9.action) === null || _10 === void 0 ? void 0 : _10.sections[0]) === null || _11 === void 0 ? void 0 : _11.rows) === null || _12 === void 0 ? void 0 : _12.filter(function (el) { return el === null || el === void 0 ? void 0 : el.title; })) === null || _13 === void 0 ? void 0 : _13.length) > 0 &&\n                    ((_18 = (_17 = (_16 = (_15 = (_14 = menu[\"send_button\"]) === null || _14 === void 0 ? void 0 : _14.action) === null || _15 === void 0 ? void 0 : _15.sections[0]) === null || _16 === void 0 ? void 0 : _16.rows) === null || _17 === void 0 ? void 0 : _17.filter(function (el) { return el === null || el === void 0 ? void 0 : el.title; })) === null || _18 === void 0 ? void 0 : _18.map(function (row) { return (React.createElement(\"li\", { className: \"sarufi-flex-wide \", style: {\n                            marginBottom: \"1.5rem\",\n                            cursor: \"pointer\",\n                        }, key: row === null || row === void 0 ? void 0 : row.title, onClick: function () {\n                            onSubmit(row === null || row === void 0 ? void 0 : row.title, \"interactive\", row === null || row === void 0 ? void 0 : row.id);\n                            setOpenChoices(false);\n                        } },\n                        React.createElement(\"div\", null,\n                            React.createElement(\"p\", { className: \"text-small-200\", style: {\n                                    fontFamily: \"var(--sarufi-font-family)\",\n                                } }, row === null || row === void 0 ? void 0 : row.title),\n                            React.createElement(\"p\", { style: {\n                                    opacity: \".7\",\n                                    fontSize: \".9em\",\n                                    fontFamily: \"var(--sarufi-font-family)\",\n                                } }, row === null || row === void 0 ? void 0 : row.description)),\n                        React.createElement(\"div\", null,\n                            React.createElement(\"span\", { className: \"sarufi-flex-center\", style: {\n                                    height: 15,\n                                    width: 15,\n                                    borderRadius: \"50%\",\n                                    border: \"1px solid var(--sarufi-received-box-color)\",\n                                    marginLeft: \"1rem\",\n                                } })))); }))))))));\n};\nvar Message = function (_a) {\n    var message = _a.message, className = _a.className, style = _a.style;\n    return (React.createElement(React.Fragment, null, typeof message === \"string\" && (React.createElement(\"p\", { style: __assign({ fontFamily: \"var(--sarufi-font-family)\", width: \"100%\" }, style), className: className !== null && className !== void 0 ? className : \"\", dangerouslySetInnerHTML: { __html: wrapUrl(wrap(message)) } }))));\n};\nexport var wrapUrl = function (str) {\n    var url_pattern = /(http(s)?:\\/\\/.)?(www\\.)?[-a-zA-Z0-9@:%._\\+~#=]{2,256}\\.[a-z]{2,6}\\b([-a-zA-Z0-9@:%_\\+.~#?&//=]*)/g;\n    var strArr = [];\n    var words = str.split(\" \");\n    words.forEach(function (word) {\n        // split words by \\n\n        var newWords = word.split(\"\\n\");\n        var newWordsArr = [];\n        newWords.forEach(function (word) {\n            if (!word.includes(\".\")) {\n                return (newWordsArr = __spreadArray(__spreadArray([], newWordsArr, true), [word], false));\n            }\n            if (!url_pattern.test(word)) {\n                return (newWordsArr = __spreadArray(__spreadArray([], newWordsArr, true), [word], false));\n            }\n            var protocol_pattern = /^(?:(?:https?|ftp):\\/\\/)/i;\n            var href = protocol_pattern.test(word) ? word : \"http://\" + word;\n            return (newWordsArr = __spreadArray(__spreadArray([], newWordsArr, true), [\n                '<a href=\"' + href + '\" target=\"_blank\">' + word + \"</a>\",\n            ], false));\n        });\n        strArr = __spreadArray(__spreadArray([], strArr, true), [newWordsArr.join(\"\\n\")], false);\n    });\n    return strArr.join(\" \");\n};\nexport var wrap = function (str) {\n    var _a, _b, _c;\n    if (str && typeof str === \"string\") {\n        return (_c = (_b = (_a = str === null || str === void 0 ? void 0 : str.replace(/(?:\\*)([^*]*)(?:\\*)/gm, \"<strong>$1</strong> \")) === null || _a === void 0 ? void 0 : _a.replace(/(?:_)([^_]*)(?:_)/gm, \"<i>$1</i> \")) === null || _b === void 0 ? void 0 : _b.replace(/(?:~)([^~]*)(?:~)/gm, \"<strike>$1</strike> \")) === null || _c === void 0 ? void 0 : _c.replace(/(?:```)([^```]*)(?:```)/gm, \"<tt>$1</tt> \");\n    }\n    else {\n        return str;\n    }\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}